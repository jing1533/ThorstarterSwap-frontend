var k=Object.defineProperty;var c=(n,t)=>k(n,"name",{value:t,configurable:!0});import{canEagerlyConnectToEvm as N,canSwitchNetworkToEvm as y,chooseInstance as g,getCoinbaseInstance as b,getEvmAccounts as T,Networks as a,switchNetworkForEvm as I,WalletTypes as x}from"@rango-dev/wallets-shared";import{evmBlockchains as R,isEvmBlockchain as L,isSolanaBlockchain as M,solanaBlockchain as O}from"rango-types";import{Networks as u}from"@rango-dev/wallets-shared";async function E(n){let t=await n.get(u.SOLANA),e=[];if(t){await t.connect();let o=t.publicKey.toString();e.push({accounts:o?[o]:[],chainId:u.SOLANA})}return e}c(E,"getSolanaAccounts");import{DefaultEvmSigner as C}from"@rango-dev/signer-evm";import{DefaultSolanaSigner as A}from"@rango-dev/signer-solana";import{Networks as p,getNetworkInstance as d}from"@rango-dev/wallets-shared";import{DefaultSignerFactory as v,TransactionType as S}from"rango-types";function f(n){let t=d(n,p.ETHEREUM),e=d(n,p.SOLANA),o=new v;return o.registerSigner(S.EVM,new C(t)),o.registerSigner(S.SOLANA,new A(e)),o}c(f,"getSigners");var P=x.COINBASE,Y={type:P,defaultNetwork:a.ETHEREUM},Z=b,$=c(async({instance:n,meta:t})=>{let e=g(n,t,a.ETHEREUM),o=[];if(e){let r=await T(e);o.push(r)}let s=await E(n);return o=[...o,...s],o},"connect"),nn=c(n=>{let t=g(n.instance,n.meta,a.ETHEREUM),e=g(n.instance,n.meta,a.SOLANA),{connect:o,updateAccounts:s,state:r,updateChainId:w,meta:h}=n;t?.on("accountsChanged",i=>{let l=h.filter(L).find(m=>m.name===a.ETHEREUM)?.chainId;r.connected&&(r.network!=a.ETHEREUM&&l&&w(l),s(i))}),e?.on("accountChanged",async i=>{r.network!=a.SOLANA&&w(h.filter(M)[0].chainId);let l=a.SOLANA;if(i){let m=i.toString();s([m])}else o(l)})},"subscribe"),tn=I,en=y,on=f,cn=c(async({instance:n,meta:t})=>{let e=g(n,t,a.ETHEREUM);return e?N({instance:e,meta:t}):Promise.resolve(!1)},"canEagerConnect"),an=c(n=>{let t=R(n),e=O(n);return{name:"Coinbase",img:"https://raw.githubusercontent.com/rango-exchange/assets/main/wallets/coinbase/icon.svg",installLink:{CHROME:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",BRAVE:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",DEFAULT:"https://www.coinbase.com/wallet"},color:"#2a62f5",supportedChains:[...t,...e]}},"getWalletInfo");export{cn as canEagerConnect,en as canSwitchNetworkTo,Y as config,$ as connect,Z as getInstance,on as getSigners,an as getWalletInfo,nn as subscribe,tn as switchNetwork};
//# sourceMappingURL=index.js.map
