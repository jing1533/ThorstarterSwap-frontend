var bp=Object.defineProperty;var i=(t,e)=>bp(t,"name",{value:e,configurable:!0});import{MainEvents as dI,RouteEventType as fI,StepEventType as gI,StepExecutionBlockedEventStatus as hI,StepExecutionEventStatus as yI,useEvents as SI}from"@rango-dev/queue-manager-rango-preset";import{useWallets as xa}from"@rango-dev/wallets-react";import{Events as On,Provider as Gp}from"@rango-dev/wallets-react";import{isEvmBlockchain as Vp}from"rango-sdk";import _i,{createContext as Rp,useRef as Xp}from"react";import{useEffect as Hp}from"react";import{create as Up}from"zustand";import{subscribeWithSelector as zp}from"zustand/middleware";import{RangoClient as xp}from"rango-sdk";var hi="c6381a79-2817-4602-83bf-6a641a409e32";var Dn={API_KEY:hi};function So(t){return Dn[t]}i(So,"getConfig");function yi(t){let e;return typeof structuredClone=="function"?e=structuredClone(t):e=JSON.parse(JSON.stringify(t)),Dn=e,Dn}i(yi,"initConfig");var Si=20,Ci=25;var Co,xt=i(()=>Co||(Co=new xp(So("API_KEY")),Co),"httpService");import{WalletState as Re}from"@rango-dev/ui";import{readAccountAddress as Bp}from"@rango-dev/wallets-react";import{detectInstallLink as Wp,getCosmosExperimentalChainInfo as Np,isEvmAddress as Ip,KEPLR_COMPATIBLE_WALLETS as Vg,Networks as wi}from"@rango-dev/wallets-shared";import _n from"bignumber.js";import{isCosmosBlockchain as Mp}from"rango-types";import Ap from"bignumber.js";var Me=new Ap(0);import{WalletTypes as Ep}from"@rango-dev/wallets-shared";var ki=[Ep.LEAP];import{BigNumber as Ti}from"bignumber.js";var At=i(t=>{let e=(t%60).toString().padStart(2,"0");return`${parseInt((t/60).toString()).toString().padStart(2,"0")}:${e}`},"secondsToString"),k=i((t,e=null,o=null)=>{if(t==null||t==="")return"";let n=new Ti(t),r=1,s=1e3;for(let a=0;a<60;a++)if(new Ti(n.toFixed(a,r)).eq(n)){s=a;break}if(n.gte(1e4))return n.toFormat(0,r);if(n.gte(1e3)||n.gte(100))return n.toFormat(Math.min(s,Math.min(o||100,Math.max(e||0,1))),r);if(n.gte(1))return n.toFormat(Math.min(s,Math.min(o||100,Math.max(e||0,2))),r);if(n.gte(.01))return n.toFormat(Math.min(s,Math.min(o||100,Math.max(e||0,4))),r);for(let a=e||4;a<17;a++)if(n.gte(Math.pow(10,-a)))return n.toFormat(Math.min(s,Math.min(o||100,Math.max(e||0,a))),r);return n.isEqualTo(0)?"0":n.toFormat(Math.min(s,Math.min(o||100,Math.max(e||0,8))),r)},"numberToString");var Et=i(t=>t?.reduce((e,o)=>e+(o.estimatedTimeInSeconds??0),0)||0,"totalArrivalTime");var Ve=i((t,e)=>t.toLowerCase().indexOf(e.toLowerCase())>-1,"containsText"),Gt=i(t=>!!t&&parseFloat(t)>0,"isPositiveNumber");function ko(t,e=4){let o=parseFloat(t);if(isNaN(o))return t;let n=Math.pow(10,e);return(Math.round(o*n)/n).toString()}i(ko,"limitDecimalPlaces");function Lp(t){switch(!0){case t.connected:return Re.CONNECTED;case t.connecting:return Re.CONNECTING;case!t.installed:return Re.NOT_INSTALLED;default:return Re.DISCONNECTED}}i(Lp,"mapStatusToWalletState");function vi(t,e,o,n){return o.filter(r=>!ki.includes(r)).filter(r=>{if(n){let{supportedChains:s}=e(r);return!!s.find(a=>a.name===n)}return!0}).map(r=>{let{name:s,img:a,installLink:p}=e(r),l=Lp(t(r));return{title:s,image:a,link:Wp(p),state:l,type:r}})}i(vi,"mapWalletTypesToWalletInfo");function To(t){if(!t)return null;let e=[];return e=t.map(o=>o.name),e}i(To,"walletAndSupportedChainsNames");function bi(t,e,o,n){let r=[];function s(p,l){if(!!!r.find(c=>c.chain===p)){let c={address:l,chain:p,walletType:t};r.push(c)}}i(s,"addAccount");let a=n||[];return e.forEach(p=>{let{address:l,network:u}=Bp(p),c=a.length>0,m=a.includes(u),d=u===wi.Unknown;if(c&&!m&&!d)return;let C=u===wi.Unknown&&Ip(l);if(d&&!C)return;o.includes(u)||C?a.filter(T=>o.includes(T)).forEach(T=>{s(T,l.toLowerCase())}):s(u,l)}),r}i(bi,"prepareAccountsForWalletStore");function xi(t){let e=[];return t?.result?.swaps.forEach(o=>{let n=o.from.blockchain,r=o.to.blockchain;e.includes(n)||e.push(n),e.includes(r)||e.push(r),o.internalSwaps&&Array.isArray(o.internalSwaps)&&o.internalSwaps.forEach(s=>{let a=s.from.blockchain,p=s.to.blockchain;e.includes(a)||e.push(a),e.includes(p)||e.push(p)})}),e}i(xi,"getRequiredChains");function Bt(t,e,o,n){if(t.length===0)return null;let r=t.filter(s=>s.chain===e);return r.length===0?null:r.map(s=>s.balances?.find(a=>n!==null&&a.address===n||n===null&&a.address===n&&a.symbol===o)||null).filter(s=>s!==null).sort((s,a)=>parseFloat(a?.amount||"0")-parseFloat(s?.amount||"1")).find(()=>!0)||null}i(Bt,"getBalanceFromWallet");function wo(t,e){return t.address===e.address&&t.chain===e.chain&&t.walletType===e.walletType}i(wo,"isAccountAndWalletMatched");function Ai(t,e){let{blockChain:o,balances:n=[]}=t;return n?.map(r=>({chain:o,symbol:r.asset.symbol,ticker:r.asset.symbol,address:r.asset.address||null,rawAmount:r.amount.amount,decimal:r.amount.decimals,amount:new _n(r.amount.amount).shiftedBy(-r.amount.decimals).toFixed(),logo:"",usdPrice:vo(o,r.asset.symbol,r.asset.address,e)||null}))||[]}i(Ai,"makeBalanceFor");function Ei(t){return{...t,loading:!1,error:!0}}i(Ei,"resetConnectedWalletState");var vo=i((t,e,o,n)=>n?.find(s=>s.blockchain===t&&s.symbol?.toUpperCase()===e?.toUpperCase()&&s.address===o)?.usdPrice||null,"getUsdPrice"),bo=i((t,e)=>{let o=Np(Object.entries(t).map(([,n])=>n).filter(Mp));return o&&o[e]?.experimental},"isExperimentalChain");function Pp(t,e){return t.map(({balance:o,...n})=>{let r=k(new _n(Bt(e,n.blockchain,n.symbol,n.address)?.amount||Me)),s="";return n.usdPrice&&(s=k(new _n(Bt(e,n.blockchain,n.symbol,n.address)?.amount||Me).multipliedBy(n.usdPrice))),{...n,...r!=="0"&&{balance:{amount:r,usdValue:s}}}})}i(Pp,"getTokensWithBalance");function Bi(t,e){let o=e.length>0?Pp(t,e):t;return o.sort((n,r)=>n.balance?.usdValue&&r.balance?.usdValue?parseFloat(r.balance.usdValue)-parseFloat(n.balance.usdValue):!n.balance?.usdValue&&r.balance?.usdValue?1:n.balance?.usdValue&&!r.balance?.usdValue?-1:!n.balance?.usdValue&&!r.balance?.usdValue?parseFloat(r.balance?.amount||"0")-parseFloat(n.balance?.amount||"0"):0),o}i(Bi,"getTokensBalanceFromWalletAndSort");function Xe(t,e){return t?.blockchain===e?.blockchain&&t?.symbol===e?.symbol&&t?.address===e?.address}i(Xe,"tokensAreEqual");function Wi(t){return t.sort((e,o)=>+(o.state===Re.CONNECTED)-+(e.state===Re.CONNECTED)||+(o.state===Re.DISCONNECTED||o.state===Re.CONNECTING)-+(e.state===Re.DISCONNECTED||e.state===Re.CONNECTING))}i(Wi,"sortWalletsBasedOnConnectionState");function xo(t,e=8,o=3){if(t.length<2*e+o)return t;let n=t.slice(0,e),r=t.slice(-e);return`${n}${".".repeat(o)}${r}`}i(xo,"getConciseAddress");function Ni({chain:t,connectedWallets:e,walletType:o}){return e.find(n=>n.walletType===o&&n.chain===t)?.address}i(Ni,"getAddress");import{create as $p}from"zustand";import{create as Fp}from"zustand";var Dp=i(t=>{let e=t;e.use={};for(let o of Object.keys(e.getState()))e.use[o]=()=>e(n=>n[o]);return e},"createSelectors"),we=Dp;var _p={apiKey:""},Ii=i((t,e)=>({config:_p,updateConfig:o=>{let n=e().config;t({config:{...n,...o}})}}),"createConfigSlice");function Wt(t){return Array.from(new Set(t))}i(Wt,"removeDuplicateFrom");function Fn(t,e){return t.length===e.length&&t.every((o,n)=>o===e[n])}i(Fn,"areEqual");function Mi(t,e){let o;return n;function n(...r){o&&clearTimeout(o),o=setTimeout(()=>{o=null,t(...r)},e)}}i(Mi,"debounce");function gt(t,e){return t.toLowerCase().indexOf(e.toLowerCase())>-1}i(gt,"containsText");var ae=i(()=>document.getElementById("swap-box"),"getContainer");var Li=i((t,e)=>({_blockchains:[],_tokens:[],_popularTokens:[],_swappers:[],blockchains:o=>{let n=e()._blockchains;if(!o||!o?.type)return n;let r=e().config,s=(o.type==="source"?r.from?.blockchains:r.to?.blockchains)??[];return n.filter(p=>!(s.length>0&&!s.includes(p.name)))},tokens:o=>{let n=e()._tokens;if(!o||!o?.type)return n;let r=e().config,s=(o.type==="source"?r.from?.tokens:r.to?.tokens)??[],a=e().blockchains({type:o.type});return n.filter(l=>s.length>0&&!s.some(u=>Xe(u,l))||o.blockchain&&l.blockchain!==o.blockchain||!a.some(u=>u.name===l.blockchain)?!1:o.searchFor?!!(gt(l.symbol,o.searchFor)||gt(l.address||"",o.searchFor)||gt(l.name||"",o.searchFor)):!0).sort((l,u)=>e().isTokenPinned(l)?-1:e().isTokenPinned(u)||l.isSecondaryCoin?1:u.isSecondaryCoin||!l.address&&u.address?-1:l.address&&!u.address?1:0)},isTokenPinned:o=>!!e().config.pinnedTokens?.some(r=>Xe(r,o)),fetch:async()=>{let o=await xt().getAllMetadata(),n=[],r=[],s=o.popularTokens,a=o.swappers,p=new Set;o.tokens.forEach(l=>{p.add(l.blockchain),r.push(l)}),o.blockchains.forEach(l=>{l.enabled&&p.has(l.name)&&n.push(l)}),n.sort((l,u)=>l.sort-u.sort),t({_blockchains:n,_tokens:r,_popularTokens:s,_swappers:a})}}),"createDataSlice");var Op=Fp()((...t)=>({...Li(...t),...Ii(...t)})),Le=we(Op);var b=we($p()(t=>({meta:{blockchains:[],popularTokens:[],swappers:[],tokens:[]},loadingStatus:"loading",fetchMeta:async()=>{try{await Le.getState().fetch();let e=Le.getState(),o={blockchains:e.blockchains(),tokens:e.tokens(),popularTokens:e._popularTokens,swappers:e._swappers};t({meta:o,loadingStatus:"success"})}catch{t({loadingStatus:"failed"})}}})));var G=we(Up()(zp((t,e)=>({connectedWallets:[],customDestination:"",loading:!1,connectWallet:o=>{let n=e().getWalletsDetails;t(r=>({loading:!0,connectedWallets:r.connectedWallets.filter(s=>s.walletType!==o[0].walletType).concat(o.map(s=>{let a=!r.connectedWallets.find(p=>p.chain===s.chain&&p.selected);return{balances:[],address:s.address,chain:s.chain,explorerUrl:null,walletType:s.walletType,selected:a,loading:!0,error:!1}}))})),n(o)},disconnectWallet:o=>{t(n=>{let r=n.connectedWallets.filter(s=>s.selected&&s.walletType!==o).map(s=>s.chain);return{connectedWallets:n.connectedWallets.filter(s=>s.walletType!==o).map(s=>r.includes(s.chain)?s:(r.push(s.chain),{...s,selected:!0}))}})},selectWallets:o=>t(n=>({connectedWallets:n.connectedWallets.map(r=>{let s=!!o.find(p=>p.chain===r.chain&&p.walletType!==r.walletType&&r.selected),a=!!o.find(p=>p.chain===r.chain&&p.walletType===r.walletType&&!r.selected);return s?{...r,selected:!1}:a?{...r,selected:!0}:r})})),clearConnectedWallet:()=>t(()=>({connectedWallets:[],selectedWallets:[]})),getWalletsDetails:async(o,n=!0)=>{let r=e().getWalletsDetails,{tokens:s}=b.getState().meta;t(a=>({loading:!0,connectedWallets:a.connectedWallets.map(p=>o.find(l=>wo(l,p))?{...p,loading:!0}:p)}));try{let a=o.map(({address:u,chain:c})=>({address:u,blockchain:c})),l=(await xt().getWalletsDetails(a)).wallets;if(l)t(u=>({loading:!1,connectedWallets:u.connectedWallets.map(c=>{let m=o.find(h=>wo(h,c)),d=l.find(h=>h.address===c.address&&h.blockChain===c.chain);return d?.failed&&m&&n&&r([m],!1),m&&d?{...c,explorerUrl:d.explorerUrl,balances:Ai(d,s)}:c})}));else throw new Error("Wallet not found")}catch{t(p=>({loading:!1,connectedWallets:p.connectedWallets.map(l=>o.find(u=>wo(u,l))?Ei(l):l)}))}}}))));import{allProviders as qp}from"@rango-dev/provider-all";function Ao(t,e){let o=qp({walletconnect2:{WC_PROJECT_ID:e?.walletConnectProjectId||""}});if(t){let n=[];return t.forEach(r=>{if(typeof r=="string"){let s=o.find(a=>a.config.type===r);s?n.push(s):console.warn(`Couldn't find ${r} provider. Please make sure you are passing the correct name.`)}else n.push(r)}),n}return o}i(Ao,"matchAndGenerateProviders");function Pi(t,e){return Ao(t,e).map(r=>r.config.type)}i(Pi,"configWalletsToWalletName");function Di(t,e){let o=G.use.clearConnectedWallet(),n=Ao(void 0,e);return Hp(()=>{o(),n=Ao(t,{walletConnectProjectId:e?.walletConnectProjectId})},[t?.length]),{providers:n}}i(Di,"useWalletProviders");var $n=Rp({onConnectWallet:()=>{}});function Un(t){let{blockchains:e}=b.use.meta(),{providers:o}=Di(t.providers,t?.options),n=G.use.disconnectWallet(),r=G.use.connectWallet(),s=Xp(),a=e.filter(Vp).map(l=>l.name),p=i((l,u,c,m,d)=>{if(u===On.ACCOUNTS)if(c){let h=To(d),C=bi(l,c,a,h);r(C)}else n(l);if(u===On.ACCOUNTS&&m.connected){let h=`${l}-${m.network}-${c}`;m.connected&&(s.current?s.current(h):console.warn("onConnectWallet handler hasn't been set. Are you sure?"))}if(u===On.NETWORK&&m.network){let h=`${l}-${m.network}`;s.current?s.current(h):console.warn("onConnectWallet handler hasn't been set. Are you sure?")}t.onUpdateState&&t.onUpdateState(l,u,c,m,d)},"onUpdateState");return _i.createElement($n.Provider,{value:{onConnectWallet:l=>{s.current=l}}},_i.createElement(Gp,{allBlockChains:e,providers:o,onUpdateState:p,autoConnect:!0},t.children))}i(Un,"WidgetWallets");import{I18nManager as kg,styled as Tg}from"@rango-dev/ui";import lt,{useContext as wg,useEffect as wp,useMemo as vg,useState as kp}from"react";import{useQueueManager as Tc}from"@rango-dev/queue-manager-rango-preset";import{useWallets as wc}from"@rango-dev/wallets-react";import{isEvmBlockchain as vc}from"rango-types";import yt,{useEffect as bc,useRef as xc}from"react";import{MemoryRouter as Ac,useInRouterContext as Ec}from"react-router";import{useLocation as Bc,useNavigate as Wc}from"react-router-dom";var g={home:"/",fromSwap:"from-swap",fromBlockchain:"/from-swap/blockchains",toBlockchain:"/to-swap/blockchains",toSwap:"to-swap",settings:"settings",liquiditySources:"/settings/liquidity-sources",themes:"/settings/themes",bridges:"/settings/bridges",exchanges:"/settings/exchanges",languages:"/settings/languages",swaps:"swaps",wallets:"wallets",confirmSwap:"confirm-swap",swapDetails:"swaps/:requestId"};import{i18n as Yo}from"@lingui/core";import{Alert as rc,BestRoute as ic,BestRouteSkeleton as sc,Button as ac,Divider as sr,styled as Lt,SwapInput as qs,Typography as ar,WarningIcon as lc}from"@rango-dev/ui";import j,{useEffect as pc,useRef as uc,useState as cc}from"react";import{useNavigate as mc}from"react-router-dom";import{ChevronLeftIcon as Yp}from"@rango-dev/ui";import $i from"react";import{darkTheme as Kp,IconButton as jp,styled as Eo}from"@rango-dev/ui";var Fe=Eo(jp,{width:"$24",position:"relative",padding:"0",overflow:"unset"}),Fi=Eo("div",{position:"absolute",background:"$secondary500",[`.${Kp} &`]:{$$color:"$colors$secondary400"},width:"$6",height:"$6",borderRadius:"$lg",right:"$4",border:"1px solid $surface100"}),Nt=Eo("div",{display:"flex",justifyContent:"flex-end",width:"$40"}),Oi=Eo("div",{position:"absolute",backgroundColor:"$secondary500",width:"14px",height:"14px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"7px",top:"$0",right:"$0"});function zn(t){return $i.createElement(Fe,{variant:"ghost",size:"small",onClick:t.onClick},$i.createElement(Yp,{color:"black",size:16}))}i(zn,"BackButton");import{i18n as Qp}from"@lingui/core";import{Button as Zp,Typography as Jp}from"@rango-dev/ui";import qn from"react";function Hn(t){return qn.createElement(Nt,null,qn.createElement(Zp,{variant:"ghost",onClick:t.onClick,size:"xsmall"},qn.createElement(Jp,{variant:"label",size:"medium",color:"error500"},Qp.t("Cancel"))))}i(Hn,"CancelButton");import{i18n as eu}from"@lingui/core";import{Tooltip as tu,WalletIcon as ou}from"@rango-dev/ui";import Bo from"react";function Gn(t){return Bo.createElement(tu,{container:t.container,side:"top",content:eu.t("Connect Wallet")},Bo.createElement(Fe,{variant:"ghost",size:"small",onClick:t.onClick},t.isConnected&&Bo.createElement(Fi,null),Bo.createElement(ou,{size:18,color:"black"})))}i(Gn,"WalletButton");import{i18n as Io}from"@lingui/core";import{NotificationsIcon as Su,Popover as Cu,RefreshIcon as ku,SettingsIcon as Tu,Tooltip as Mo,TransactionIcon as wu}from"@rango-dev/ui";import de from"react";import{i18n as cu}from"@lingui/core";import{ChainToken as Vi,ChevronRightIcon as mu,ListItemButton as du,Typography as fu}from"@rango-dev/ui";import Oe from"react";import{useNavigate as gu}from"react-router-dom";import{create as nu}from"zustand";import{persist as ru,subscribeWithSelector as iu}from"zustand/middleware";var Pe=we(nu()(ru(iu((t,e)=>({notifications:[],setNotification:(o,n)=>{let r=n.steps[0],s=n.steps[n.steps.length-1],a={event:o,creationTime:Date.now(),read:!1,requestId:n.requestId,route:{from:{blockchain:r.fromBlockchain,tokenAddress:r.fromSymbolAddress,tokenSymbol:r.fromSymbol},to:{blockchain:s.toBlockchain,tokenSymbol:s.toSymbol,tokenAddress:s.toSymbolAddress}}},p=e().notifications.filter(l=>l.requestId!==n.requestId);t(()=>({notifications:[...p,a]}))},setAsRead:o=>{t(n=>({notifications:n.notifications.map(r=>r.requestId===o?{...r,read:!0}:r)}))},getUnreadNotifications:()=>e().notifications.filter(o=>!o.read)})),{name:"notification",skipHydration:!0})));import{create as su}from"zustand";var ve=we(su()(t=>({connectWalletsButtonDisabled:!1,selectedSwapRequestId:null,currentPage:"",setSelectedSwap:e=>t({selectedSwapRequestId:e}),setCurrentPage:e=>t({currentPage:e})})));import{styled as Wo}from"@rango-dev/ui";var Ui=Wo("div",{padding:"$10",width:"350px",minHeight:"150px"}),zi=Wo("ul",{padding:0,margin:0,listStyle:"none",".to-chain-token":{transform:"translateX(-3px)"}}),qi=Wo("div",{display:"flex",padding:0,alignItems:"center",alignSelf:"stretch"}),Hi=Wo("div",{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:"$10",width:"100%",height:"150px"});import{i18n as au}from"@lingui/core";import{Divider as lu,NoNotificationIcon as pu,Typography as uu}from"@rango-dev/ui";import No from"react";function Gi(){return No.createElement(Hi,null,No.createElement(pu,{color:"secondary",size:26}),No.createElement(lu,{size:12}),No.createElement(uu,{variant:"body",size:"medium",color:"neutral900"},au.t("You have no notification")))}i(Gi,"NotificationNotFound");var hu=4;function Vn(){let t=gu(),e=ve.use.setSelectedSwap(),{getUnreadNotifications:o}=Pe(),n=o(),{tokens:r,blockchains:s}=b.use.meta(),a=n.sort((l,u)=>u.creationTime-l.creationTime).slice(0,hu),p=i(l=>{e(l),t(`/swaps/${l}`)},"handleOnClick");return Oe.createElement(Ui,null,a.length?Oe.createElement(zi,null,a.map(l=>{let u=r.find(h=>h.address===l.route.from.tokenAddress&&h.blockchain===l.route.from.blockchain&&h.symbol===l.route.from.tokenSymbol),c=s.find(h=>h.name===l.route.from.blockchain),m=r.find(h=>h.address===l.route.to.tokenAddress&&h.blockchain===l.route.to.blockchain&&h.symbol===l.route.to.tokenSymbol),d=s.find(h=>h.name===l.route.to.blockchain);return Oe.createElement(du,{key:l.requestId,onClick:()=>p(l.requestId),title:Oe.createElement(fu,{variant:"body",size:"small",color:"$neutral900"},cu.t(l.event.message)),id:l.requestId,start:Oe.createElement(qi,null,Oe.createElement("div",{className:"from-chain-token"},Oe.createElement(Vi,{tokenImage:u?u.image:"",chainImage:c?c.logo:"",size:"small"})),Oe.createElement("div",{className:"to-chain-token"},Oe.createElement(Vi,{tokenImage:m?m.image:"",chainImage:d?d.logo:"",size:"small"}))),end:Oe.createElement(mu,{size:12,color:"gray"})})})):Oe.createElement(Gi,null))}i(Vn,"NotificationContent");import{Typography as yu}from"@rango-dev/ui";import Ri from"react";function Xi(){let{getUnreadNotifications:t}=Pe(),e=t().length;return e?Ri.createElement(Oi,null,Ri.createElement(yu,{variant:"body",size:"xsmall",color:"$background"},e)):null}i(Xi,"UnreadNotificationsBadge");function Rn(t){let{layoutRef:e,onClickRefresh:o,onClickHistory:n,onClickSettings:r,onClickNotifications:s}=t;return de.createElement(de.Fragment,null,de.createElement(Mo,{container:ae(),side:"top",content:Io.t("Refresh")},de.createElement(Fe,{variant:"ghost",size:"small",onClick:o,disabled:!o},de.createElement(ku,{size:16,color:o?"black":"gray"}))),de.createElement(Mo,{container:ae(),side:"top",content:Io.t("Notifications")},de.createElement(Cu,{align:"center",collisionBoundary:e,collisionPadding:{right:20,left:20},container:ae(),content:de.createElement(Vn,null)},de.createElement(Fe,{size:"small",variant:"ghost",onClick:s},de.createElement(Su,{size:18,color:"black"}),de.createElement(Xi,null)))),de.createElement(Mo,{container:ae(),side:"top",content:Io.t("Settings")},de.createElement(Fe,{size:"small",variant:"ghost",onClick:r},de.createElement(Tu,{size:18,color:"black"}))),de.createElement(Mo,{container:ae(),side:"top",content:Io.t("Transactions History")},de.createElement(Fe,{size:"small",variant:"ghost",onClick:n},de.createElement(wu,{size:18,color:"black"}))))}i(Rn,"HomeButtons");import{BottomLogo as vu,Divider as bu,Header as xu}from"@rango-dev/ui";import ge from"react";import{useNavigate as Au}from"react-router-dom";import{styled as Xn}from"@rango-dev/ui";var Ki=Xn("div",{position:"relative",display:"flex",flexDirection:"column",borderRadius:"$primary",overflow:"hidden !important",boxShadow:"15px 15px 15px 0px rgba(0, 0, 0, 0.05)",width:"95vw",maxWidth:"390px",maxHeight:"700px",backgroundColor:"$neutral100",variants:{fixedHeight:{true:{height:"95vh"},false:{height:"auto"}}}}),ji=Xn("div",{borderTopLeftRadius:"20px",borderTopRightRadius:"20px",display:"flex",flexDirection:"column",flex:1,padding:"$20 $20 $10 $20",backgroundColor:"$background",position:"relative",overflowY:"auto",overflowX:"hidden",variants:{noPadding:{true:{padding:"0"}}}}),Yi=Xn("div",{backgroundColor:"$background","& .footer__content":{padding:"$0 $20"},"& .footer__logo":{padding:"$0 $20 $10 $20"}});function Eu(t,e){let{children:o,header:n,footer:r,noPadding:s,hasLogo:a=!0,fixedHeight:p=!0}=t,l=G.use.connectedWallets(),u=ve.use.connectWalletsButtonDisabled(),c=Au(),m=i(()=>{u||c("/"+g.wallets)},"onConnectWallet");return ge.createElement(Ki,{ref:e,fixedHeight:p,id:"swap-box"},ge.createElement(xu,{prefix:ge.createElement(ge.Fragment,null,n.onBack&&ge.createElement(zn,{onClick:n.onBack})),title:n.title,suffix:ge.createElement(ge.Fragment,null,n.suffix,n.hasConnectWallet&&ge.createElement(Gn,{container:ae(),onClick:m,isConnected:!!l?.length}),n.onCancel&&ge.createElement(Hn,{onClick:n.onCancel}))}),ge.createElement(ji,{noPadding:s},o),(a||r)&&ge.createElement(Yi,null,ge.createElement("div",{className:"footer__content"},r),a&&ge.createElement("div",{className:"footer__logo"},ge.createElement(bu,{size:12}),ge.createElement(vu,null))))}i(Eu,"LayoutComponent");var Q=ge.forwardRef(Eu);Q.displayName="Layout";import{Alert as Iu,Button as Mu,Divider as ls,NoRouteIcon as Lu,RefreshIcon as Pu,Typography as ps}from"@rango-dev/ui";import $e from"react";import{i18n as Se}from"@lingui/core";var Vt=(r=>(r[r.ROUTE_UPDATED=0]="ROUTE_UPDATED",r[r.ROUTE_SWAPPERS_UPDATED=1]="ROUTE_SWAPPERS_UPDATED",r[r.ROUTE_COINS_UPDATED=2]="ROUTE_COINS_UPDATED",r[r.ROUTE_AND_OUTPUT_AMOUNT_UPDATED=3]="ROUTE_AND_OUTPUT_AMOUNT_UPDATED",r))(Vt||{});var z={genericServerError:Se.t("Failed Network, Please retry your swap."),liquiditySourcesError:{title:Se.t("Please reset your liquidity sources."),description:Se.t("You have limited the liquidity sources and this might result in Rango finding no routes. Please consider resetting your liquidity sources")},noRoutesError:{title:Se.t("No Routes Found"),description:"Reasons why Rango couldn't find a route: low liquidity on token, very low input amount or no routes available for the selected input/output token combination."},bridgeLimitErrors:{increaseAmount:Se.t("Bridge Limit Error: Please increase your amount"),decreaseAmount:Se.t("Bridge Limit Error: Please decrease your amount")},highValueLossError:{impactTitle:Se.t("High Price Impact"),title:Se.t("Price impact is too high!"),description:Se.t("The price impact is significantly higher than the allowed amount. If you are sure, continue, otherwise, change the swap."),confirmMessage:Se.t("Confirm High price impact")},routeUpdatedWithHighValueLoss:{title:Se.t("Route updated and price impact is too high, try again later!")},unknownPriceError:{impactTitle:Se.t("USD Price Unknown"),title:Se.t("USD Price Unknown, Cannot calculate Price Impact."),description:Se.t("USD Price Unknown, Cannot calculate Price Impact. The price impact may be higher than usual. Are you sure to continue the Swap?"),confirmMessage:Se.t("Confirm USD Price Unknown")}};function Lo(t){switch(t.type){case 0:return t.diagnosisMessage??z.noRoutesError.title;case 2:return z.genericServerError;case 1:return z.routeUpdatedWithHighValueLoss.title;default:return""}}i(Lo,"getConfirmSwapErrorMessage");import{create as Bu}from"zustand";import{persist as Wu,subscribeWithSelector as Nu}from"zustand/middleware";var Zi=[.5,1,3],Ji=1,es=5,ts=100,os=0;var $=we(Bu()(Wu(Nu(t=>({slippage:Ji,customSlippage:null,infiniteApprove:!1,affiliateRef:null,affiliatePercent:null,affiliateWallets:null,disabledLiquiditySources:[],theme:"auto",setSlippage:e=>t(()=>({slippage:e})),setCustomSlippage:e=>t(()=>({customSlippage:e})),setAffiliateRef:e=>t(()=>({affiliateRef:e})),setAffiliatePercent:e=>t(()=>({affiliatePercent:e})),setAffiliateWallets:e=>t(()=>({affiliateWallets:e})),toggleAllLiquiditySources:e=>t(o=>{if(e)return{disabledLiquiditySources:[]};let{swappers:n}=b.getState().meta,r=Wt(n.map(s=>s.swapperGroup));return r.length===o.disabledLiquiditySources.length?{disabledLiquiditySources:[]}:{disabledLiquiditySources:r}}),toggleInfiniteApprove:()=>t(e=>({infiniteApprove:!e.infiniteApprove})),toggleLiquiditySource:e=>t(o=>o.disabledLiquiditySources.includes(e)?{disabledLiquiditySources:o.disabledLiquiditySources.filter(n=>n!=e)}:{disabledLiquiditySources:o.disabledLiquiditySources.concat(e)}),setTheme:e=>t(()=>({theme:e}))})),{name:"user-settings",skipHydration:!0})));import{i18n as ns}from"@lingui/core";function rs(t,e,o,n,r){return o?{alert:{type:"warning",text:z.genericServerError,action:{onClick:r,title:ns.t("Retry")}},description:""}:t?{alert:{type:"error",text:t,action:null},description:""}:e.length?{alert:{type:"warning",text:z.liquiditySourcesError.title,action:{onClick:()=>n(!0),title:ns.t("Reset")}},description:z.liquiditySourcesError.description}:{alert:null,description:z.noRoutesError.description}}i(rs,"makeInfo");import{styled as Kn}from"@rango-dev/ui";var is=Kn("div",{display:"flex",flexDirection:"column",alignItems:"center"}),ss=Kn("div",{width:"100%"}),as=Kn("div",{padding:"$6 $0"});function Rt(t){let{diagnosisMessage:e,fetch:o,error:n}=t,r=$.use.disabledLiquiditySources(),s=b.use.loadingStatus(),a=$.use.toggleAllLiquiditySources(),l=rs(e??null,r,n||s==="failed",a,o);return $e.createElement(is,null,$e.createElement(Lu,{size:24,color:"gray"}),$e.createElement(ls,{size:4}),$e.createElement(ps,{variant:"title",size:"small"},z.noRoutesError.title),!!l.description&&$e.createElement(ps,{variant:"body",size:"small",align:"center",color:"neutral900"},l.description),$e.createElement(ls,{size:4}),!!l.alert&&$e.createElement(ss,null,$e.createElement(Iu,{type:l.alert.type,title:l.alert.text,action:l.alert.action&&$e.createElement(Mu,{size:"xsmall",type:l.alert.type,prefix:$e.createElement(as,null,$e.createElement(Pu,{size:8})),onClick:l.alert.action.onClick},l.alert.action.title),variant:"alarm"})))}i(Rt,"NoRoutes");import{Alert as _s,Divider as Ku,InfoIcon as ju}from"@rango-dev/ui";import qe from"react";import ct from"bignumber.js";import{create as zu}from"zustand";import{subscribeWithSelector as qu}from"zustand/middleware";import{getLastSuccessfulStep as _u}from"@rango-dev/queue-manager-rango-preset";import aC from"bignumber.js";function us(t,e){return e.find(o=>o.name===t)?.displayName}i(us,"getBlockchainDisplayNameFor");function Je(t,e){return e.find(o=>o.name===t)?.shortName}i(Je,"getBlockchainShortNameFor");function jn(t,e){return e.find(o=>Xe(o,t))??null}i(jn,"findToken");function Yn(t,e){return e.find(o=>o.name===t)??null}i(Yn,"findBlockchain");function Qn(t,e,o){return o&&t.find(n=>{let r=e?.split("--");return r?.length===1?n.symbol===r[0]&&n.address===null&&n.blockchain===o.name:n.symbol===r?.[0]&&n.address===r?.[1]&&n.blockchain===o.name})||null}i(Qn,"searchParamsToToken");function cs(t){return t?.result?.swaps[t?.result?.swaps.length-1].to.usdPrice}i(cs,"getBestRouteToTokenUsdPrice");function Zn(t,e){let o=t.result?.swaps||[],n=e.result?.swaps||[];return o.length!==n.length}i(Zn,"isNumberOfSwapsChanged");function Jn(t,e){let o=t.result?.swaps.map(r=>r.swapperId)||[],n=e.result?.swaps.map(r=>r.swapperId)||[];return!Fn(o,n)}i(Jn,"isRouteSwappersUpdated");function er(t,e){let o=t.result?.swaps.map(r=>r.to.symbol)||[],n=e.result?.swaps.map(r=>r.to.symbol)||[];return!Fn(o,n)}i(er,"isRouteInternalCoinsUpdated");function ms(t,e){return Zn(t,e)||Jn(t,e)||er(t,e)}i(ms,"isRouteChanged");function ds(t,e){if(e===null)return null;let o=e?.find(n=>n.blockchain===t.chain)?.wallets.find(n=>n.address?.toLowerCase()===t.address.toLowerCase());return o?o.requiredAssets:null}i(ds,"getRequiredBalanceOfWallet");function fs(t){if(!t)return null;let e=(t.result?.swaps||[]).map(o=>({...o,fromAmount:k(o.fromAmount,6,6),toAmount:k(o.toAmount,6,6)}));return{...t,...t.result&&{result:{...t.result,swaps:e}}}}i(fs,"getFormattedBestRoute");function It(t){let e;return t<=-3&&t>-10?e="low":t<=-10&&(e="high"),e}i(It,"getPriceImpactLevel");function gs(t,e,o){let n=t.steps[0],r=t.steps[t.steps.length-1],s=_u(t.steps),a={blockchain:r.toBlockchain,symbol:r.toSymbol,address:r.toSymbolAddress},p=Yn(s?s.toBlockchain:n.fromBlockchain,e),l=Yn(r.toBlockchain,e),u=jn(s?{blockchain:p?.name??"",symbol:s.toSymbol,address:s.toSymbolAddress}:{blockchain:p?.name??"",symbol:n.fromSymbol,address:n.fromSymbolAddress},o),c=jn(a,o),m=s?s.outputAmount??"":t.inputAmount;return{fromBlockchain:p,fromToken:u,toBlockchain:l,toToken:c,inputAmount:m}}i(gs,"createRetryRoute");import{i18n as Ue}from"@lingui/core";import{PendingSwapNetworkStatus as Oo}from"@rango-dev/queue-manager-rango-preset";import be from"bignumber.js";function hs(t,e){return t.result?.swaps.map(o=>({swapper:{displayName:o.swapperId,image:o.swapperLogo},from:{token:{displayName:o.from.symbol,image:o.from.logo},chain:{displayName:Je(o.from.blockchain,e)??"",image:o.from.blockchainLogo},price:{value:k(o.fromAmount,6,6),usdValue:k(o.from.usdPrice?.toString(),4,4)}},to:{token:{displayName:o.to.symbol,image:o.to.logo},chain:{displayName:Je(o.to.blockchain,e)??"",image:o.to.blockchainLogo},price:{value:k(o.toAmount,6,6),usdValue:k(o.to.usdPrice?.toString(),4,4)}}}))}i(hs,"formatBestRoute");function Do(t){let e=[];return t?.result?.swaps.forEach(o=>{let n=o.from.blockchain,r=o.to.blockchain,s=e[e.length-1];n!=s&&e.push(n),s=e[e.length-1],r!=s&&e.push(r)}),e}i(Do,"getRequiredWallets");function _o(t,e){return t.addressPatterns.filter(r=>new RegExp(r).test(e)).length>0}i(_o,"isValidAddress");import{i18n as Fo}from"@lingui/core";var ht={connectWallet:Fo.t("Connect Wallet"),swap:Fo.t("Swap"),swapAnyway:Fo.t("Swap anyway"),ethRouteWarning:Fo.t("The route goes through Ethereum. Continue?")};function zo(t,e){return!t||!e||t.lte(Me)||e.lte(Me)?0:e.div(t).minus(1).multipliedBy(100)}i(zo,"getOutputRatio");function qo(t,e){return(parseInt(e.toFixed(2)||"0")<=-10&&t?.gte(new be(400))||parseInt(e.toFixed(2)||"0")<=-5&&t?.gte(new be(1e3)))??!1}i(qo,"outputRatioHasWarning");function Ho(t){return(t?.result?.swaps||[]).filter(e=>{let o=e.fromAmountMinValue?new be(e.fromAmountMinValue):null,n=e.fromAmountMaxValue?new be(e.fromAmountMaxValue):null;return e.fromAmountRestrictionType==="EXCLUSIVE"?o?.gte(e.fromAmount)||n?.lte(e.fromAmount):o?.gt(e.fromAmount)||n?.lt(e.fromAmount)}).length>0}i(Ho,"hasLimitError");function Go(t){if(!t)return{swap:null,fromAmountRangeError:"",recommendation:""};let e=(t?.result?.swaps||[]).filter(p=>{let l=p.fromAmountMinValue?new be(p.fromAmountMinValue):null,u=p.fromAmountMaxValue?new be(p.fromAmountMaxValue):null;return p.fromAmountRestrictionType==="EXCLUSIVE"?l?.gte(p.fromAmount)||u?.lte(p.fromAmount):l?.gt(p.fromAmount)||u?.lt(p.fromAmount)})[0];if(!e)return{swap:null,fromAmountRangeError:"",recommendation:""};let o=e.fromAmountMinValue?new be(e.fromAmountMinValue):null,n=e.fromAmountMaxValue?new be(e.fromAmountMaxValue):null,r=e.fromAmountRestrictionType==="EXCLUSIVE",s="",a="";return!r&&o&&o.gt(e.fromAmount)?(s=Ue.t({id:"requiredEqualMin",message:"Required: >= {min} {symbol}",values:{min:k(o,6,6),symbol:e.from.symbol}}),a=z.bridgeLimitErrors.increaseAmount):r&&o&&o.gte(e.fromAmount)&&(s=Ue.t({id:"requiredMin",message:"Required: > {min} {symbol}",values:{min:k(o,6,6),symbol:e.from.symbol}}),a=z.bridgeLimitErrors.increaseAmount),!r&&n&&n.lt(e.fromAmount)?(s=Ue.t({id:"requiredEqualMax",message:"Required: <= {max} {symbol}",values:{max:k(n,6,6),symbol:e.from.symbol}}),a=z.bridgeLimitErrors.decreaseAmount):r&&n&&n.lte(e.fromAmount)&&(s=Ue.t({id:"requiredMax",message:"Required: < {max} {symbol}",values:{max:k(n,6,6),symbol:e.from.symbol}}),a=z.bridgeLimitErrors.decreaseAmount),{swap:e,fromAmountRangeError:s,recommendation:a}}i(Go,"LimitErrorMessage");function ys(t,e,o,n,r,s,a,p,l){return t!=="success"?{title:ht.connectWallet,state:"waitForConnecting",disabled:!0}:e.length==0?{title:ht.connectWallet,state:"waitForConnecting",disabled:!1}:o||!n||!n.result||r||!l||l==="0"?{title:ht.swap,disabled:!0,state:"swap"}:s||a?{title:ht.swapAnyway,disabled:!1,hasWarning:!0,state:"needToConfirm"}:p?{title:ht.ethRouteWarning,disabled:!1,hasWarning:!0,state:"warning"}:{title:ht.swap,disabled:!1,state:"swap"}}i(ys,"getSwapButtonState");function tr(t,e,o){return!((!o||o.lte(Me))&&t?.result&&e&&e!=="0"&&parseFloat(e||"0")!==0&&t.result)}i(tr,"canComputePriceImpact");function Ou(t){let e=[];return t?.result?.swaps.forEach(o=>{let n=o.from.blockchain,r=o.to.blockchain,s=e[e.length-1];n!=s&&e.push(n),s=e[e.length-1],r!=s&&e.push(r)}),e}i(Ou,"requiredWallets");var $u=i((t,e,o,n)=>n?.find(s=>s.blockchain===t&&s.symbol?.toUpperCase()===e?.toUpperCase()&&s.address===o)?.usdPrice||null,"getUsdPrice");function Uu(t,e){let o=Me;for(let n=0;n<t.fee.length;n++){let r=t.fee[n];if(r.expenseType==="DECREASE_FROM_OUTPUT")continue;let s=$u(r.asset.blockchain,r.asset.symbol,r.asset.address,e);o=o.plus(new be(r.amount).multipliedBy(s||0))}return o}i(Uu,"getUsdFeeOfStep");function Vo(t,e){return t?.result?.swaps.reduce((o,n)=>o.plus(Uu(n,e)),Me)||null}i(Vo,"getTotalFeeInUsd");function Ss(t){return t.result?.swaps.map(o=>o.recommendedSlippage)?.map(o=>o?.slippage||"0")?.filter(o=>parseFloat(o)>0)?.sort((o,n)=>parseFloat(n)-parseFloat(o))?.find(()=>!0)||null}i(Ss,"getMinRequiredSlippage");function Cs(t,e){return e?parseFloat(t)>=parseFloat(e):!0}i(Cs,"hasProperSlippage");function Ro(t){let{fromToken:e,toToken:o,inputAmount:n,wallets:r,selectedWallets:s,disabledLiquiditySources:a,slippage:p,affiliateRef:l,affiliatePercent:u,affiliateWallets:c,initialRoute:m,destination:d}=t,h=s?.reduce((f,w)=>(f[w.chain]=w.address,f),{}),C=[];r?.forEach(f=>{let w=C.find(x=>x.blockchain===f.chain);w?w.addresses.push(f.address):C.push({blockchain:f.chain,addresses:[f.address]})});let y=!!m,S=Wt((m?.result?.swaps||[]).reduce((f,w)=>(f.push(w.from.blockchain,w.to.blockchain),w.internalSwaps&&Array.isArray(w.internalSwaps)&&w.internalSwaps.map(x=>{f.push(x.from.blockchain,x.to.blockchain)}),f),[]));return{amount:n.toString(),affiliateRef:l??void 0,affiliatePercent:u??void 0,affiliateWallets:c??void 0,checkPrerequisites:y,from:{address:e.address,blockchain:e.blockchain,symbol:e.symbol},to:{address:o.address,blockchain:o.blockchain,symbol:o.symbol},connectedWallets:C,selectedWallets:h??{},slippage:p.toString(),...d&&{destination:d},...a.length>0&&{swapperGroups:a,swappersGroupsExclude:!0},...y&&{blockchains:S}}}i(Ro,"createBestRouteRequestBody");function ks(t){return t.reduce((o,n)=>(o[n.chain]={address:n.address,walletType:n.walletType},o),{})}i(ks,"getWalletsForNewSwap");function Mt(t){return t?.result?.outputAmount||null}i(Mt,"getRouteOutputAmount");function et(t,e){return!t||!e?null:new be(e).div(new be(t)).minus(1).multipliedBy(100)}i(et,"getPercentageChange");function Ts(t,e){let o=Mt(t),n=Mt(e);if(!o||!n)return!1;let r=et(o,n);return r?r.toNumber()<=-1:!0}i(Ts,"isOutputAmountChangedALot");function ws(t,e){let o=t.validationStatus,n=xi(t);return e.sort((s,a)=>n.indexOf(s.chain)-n.indexOf(a.chain)).flatMap(s=>ds(s,o)||[]).filter(s=>!s.ok).map(s=>{let a=s.asset.symbol,p=k(new be(s.currentAmount.amount).shiftedBy(-s.currentAmount.decimals),8,8),l=k(new be(s.requiredAmount.amount).shiftedBy(-s.requiredAmount.decimals),8,8),u="";return s.reason==="FEE"&&(u=Ue.t(" for network fee")),s.reason==="INPUT_ASSET"&&(u=Ue.t(" for swap")),s.reason==="FEE_AND_INPUT_ASSET"&&(u=Ue.t(" for input and network fee")),Ue.t({id:"balanceWarningMessage",message:"Needs \u2248 {requiredAmount} {symbol}{reason}, but you have {currentAmount} {symbol} in your {blockchain} wallet.",values:{requiredAmount:l,symbol:a,reason:u,currentAmount:p,blockchain:s.asset.blockchain}})})}i(ws,"getBalanceWarnings");function vs(t,e){return(t?new be(t):Me).multipliedBy(e||0)}i(vs,"calcOutputUsdValue");function Xt(t){return!!t&&t.networkStatus!==null&&t.networkStatus!==Oo.NetworkChanged}i(Xt,"isNetworkStatusInWarningState");function bs(t,e){let o="bellow button or",n=t.extraMessage,r=t.extraMessageDetail;if(t.networkStatusExtraMessageDetail?.includes(o)&&(t.networkStatusExtraMessageDetail=t.networkStatusExtraMessageDetail.replace(o,"")),Xt(e))switch(n=t.networkStatusExtraMessage||"",r=t.networkStatusExtraMessageDetail||"",e?.networkStatus){case Oo.WaitingForConnectingWallet:n=n||Ue.t("Waiting for connecting wallet");break;case Oo.WaitingForQueue:n=n||Ue.t("Waiting for other running tasks to be finished");break;case Oo.WaitingForNetworkChange:n=n||Ue.t("Waiting for changing wallet network");break;default:n=n||"";break}r=r||"",n=n||"";let a=n?.indexOf("code")!==-1&&n?.indexOf("reason")!==-1;return{shortMessage:n,detailedMessage:{content:r,long:a}}}i(bs,"getSwapMessages");function xs(t){let e=null;if(t.status==="failed"){let o=t.steps.slice().reverse().filter(n=>n.status==="success")[0];o&&(e={blockchain:o.toBlockchain,symbol:o.toSymbol,outputAmount:o.outputAmount,address:o.toSymbolAddress})}return e}i(xs,"getLastConvertedTokenInFailedSwap");function As(t){return t.status==="failed"&&!!t.finishTime&&new Date().getTime()-parseInt(t.finishTime)<4*3600*1e3}i(As,"shouldRetrySwap");function Es(t,e,o,n,r,s){return t||!e&&!Ou(n).every(a=>r.map(p=>p.chain).includes(a))||!!e&&!o||!!e&&!!o&&s&&!_o(s,o)}i(Es,"confirmSwapDisabled");var Xo=i((t,e)=>t?.usdPrice?new ct(e||Me).multipliedBy(t?.usdPrice||0):null,"getUsdValue"),P=we(zu()(qu(t=>({fromBlockchain:null,fromToken:null,inputAmount:"",outputAmount:null,inputUsdValue:new ct(0),outputUsdValue:new ct(0),toBlockchain:null,toToken:null,bestRoute:null,routeWalletsConfirmed:!1,selectedWallets:[],customDestination:"",setRoute:e=>t(o=>{let n=null,r=Me;return Gt(o.inputAmount)?(e&&(n=e.result?.outputAmount?new ct(e.result?.outputAmount):null,r=vs(e.result?.outputAmount,cs(e)||o.toToken?.usdPrice)),{bestRoute:e,...!!e&&{outputAmount:n,outputUsdValue:r}}):{}}),resetRoute:()=>t(()=>({bestRoute:null,outputAmount:null,outputUsdValue:new ct(0)})),setFromBlockchain:e=>{t(o=>o.fromBlockchain?.name===e?.name?{}:{fromBlockchain:e,...o.fromToken&&{bestRoute:null,fromToken:null,outputAmount:null,outputUsdValue:null}})},setFromToken:e=>{let{blockchains:o}=b.getState().meta;return t(n=>({fromToken:e,...e&&{fromBlockchain:o.find(r=>r.name===e.blockchain)??null},...!!n.inputAmount&&{inputUsdValue:Xo(e,n.inputAmount)}}))},setToBlockchain:e=>{t(o=>o.toBlockchain?.name===e?.name?{}:{toBlockchain:e,...o.toToken&&{bestRoute:null,toToken:null,outputAmount:null,outputUsdValue:null}})},setToToken:e=>{let{blockchains:o}=b.getState().meta;return t(()=>({toToken:e,...e&&{toBlockchain:o.find(n=>n.name===e.blockchain)??null}}))},setInputAmount:e=>{t(o=>({inputAmount:e,...!e&&{outputAmount:new ct(0),outputUsdValue:new ct(0),bestRoute:null},...!!o.fromToken&&{inputUsdValue:Xo(o.fromToken,e)}}))},retry:e=>{let{tokens:o,blockchains:n}=b.getState().meta,{fromBlockchain:r,fromToken:s,toBlockchain:a,toToken:p,inputAmount:l}=gs(e,n,o);t({fromBlockchain:r,fromToken:s,inputAmount:l,outputAmount:null,inputUsdValue:Xo(s??null,l),outputUsdValue:new ct(0),toBlockchain:a,toToken:p,bestRoute:null})},switchFromAndTo:()=>t(e=>({fromBlockchain:e.toBlockchain,fromToken:e.toToken,toBlockchain:e.fromBlockchain,toToken:e.fromToken,inputAmount:e.outputAmount?.toString()||"",inputUsdValue:Xo(e.toToken,e.outputAmount?.toString()||"")})),resetFromBlockchain:()=>t(()=>({fromToken:null,fromBlockchain:null,outputAmount:null,outputUsdValue:null,bestRoute:null})),resetToBlockchain:()=>t(()=>({toToken:null,toBlockchain:null,outputAmount:null,outputUsdValue:null,bestRoute:null})),setRouteWalletConfirmed:e=>t({routeWalletsConfirmed:e}),setSelectedWallets:e=>t({selectedWallets:e}),setCustomDestination:e=>t({customDestination:e}),resetRouteWallets:()=>t({routeWalletsConfirmed:!1,selectedWallets:[],customDestination:""})}))));import{styled as Ko}from"@rango-dev/ui";var Bs=Ko("div",{width:"100%",paddingTop:"$10"}),or=Ko("div",{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:10,width:"100%"}),Ws=Ko("div",{display:"flex",padding:"$5 0",justifyContent:"space-between",alignItems:"center",width:"100%"}),Ns=Ko("div",{padding:"$2",alignSelf:"flex-start",cursor:"pointer"});import{i18n as Kt}from"@lingui/core";import{Button as Hu,Divider as Ls,MessageBox as Ps,Modal as Gu,Typography as Vu,WarningIcon as Ru}from"@rango-dev/ui";import ze from"react";import{useNavigate as Xu}from"react-router-dom";import{Typography as Is}from"@rango-dev/ui";import nr from"react";function Ms(t){let{title:e,value:o,valueColor:n}=t;return nr.createElement(Ws,null,nr.createElement(Is,{size:"medium",variant:"label",color:"neutral800"},e),nr.createElement(Is,{size:"large",variant:"label",color:n||"foreground"},`${n?"%":"$"}${o}`))}i(Ms,"RouteErrorsModalItem");function Ds(t){let{highValueLoss:e,open:o,onToggle:n,percentageChange:r,inputUsdValue:s,outputUsdValue:a,totalFeeInUsd:p}=t,l=Xu(),u=e&&r?.lt(-10)?"error":"warning",c=[{title:Kt.t("Swapping"),value:k(s,4,4)},{title:Kt.t("Gas cost"),value:k(p,2,2)},{title:Kt.t("Receiving"),value:k(a,4,4)},{title:Kt.t("Price impact"),value:k(r,2,2),valueColor:`${u}500`}];return ze.createElement(Gu,{open:o,onClose:()=>n(!1),container:document.getElementById("swap-box")||document.body},e?ze.createElement(Ps,{type:u,title:z.highValueLossError.impactTitle,description:z.highValueLossError.description}):ze.createElement(Ps,{type:u,title:z.unknownPriceError.impactTitle,description:z.unknownPriceError.description}),e&&ze.createElement(or,null,ze.createElement(Ls,{size:20}),ze.createElement(Vu,{size:"small",variant:"title"},Kt.t("Details")),ze.createElement(or,null,c.map((m,d)=>ze.createElement(Ms,{key:d,...m})))),ze.createElement(Ls,{size:32}),ze.createElement(Hu,{type:"primary",size:"large",prefix:ze.createElement(Ru,null),fullWidth:!0,onClick:()=>{l(g.confirmSwap)}},e?z.highValueLossError.confirmMessage:z.unknownPriceError.confirmMessage))}i(Ds,"RouteErrorsModal");var Yu=-10;function rr(t){let{bestRoute:e}=P(),{highValueLoss:o,percentageChange:n,priceImpactCanNotBeComputed:r,openModal:s,onToggle:a,totalFeeInUsd:p,outputUsdValue:l,inputUsdValue:u,loading:c,extraSpace:m}=t,d=Ho(e),{recommendation:h}=Go(e),C=!d&&(o||r),y=C||d;return qe.createElement(qe.Fragment,null,(c||m&&!y)&&qe.createElement(Ku,{size:20}),y&&qe.createElement(Bs,null,C&&qe.createElement(qe.Fragment,null,qe.createElement(_s,{title:o?z.highValueLossError.title:z.unknownPriceError.title,type:o&&n?.lt(Yu)?"error":"warning",variant:"alarm",action:qe.createElement(Ns,{onClick:()=>a(!0)},qe.createElement(ju,{size:12,color:"gray"}))})),d&&qe.createElement(_s,{type:"error",variant:"alarm",title:h})),qe.createElement(Ds,{highValueLoss:o,open:s,onToggle:a,percentageChange:n,inputUsdValue:u,outputUsdValue:l,totalFeeInUsd:p}))}i(rr,"RouteErrors");import{ReverseIcon as Qu,styled as Fs}from"@rango-dev/ui";import ir from"react";var Zu=Fs("div",{position:"absolute",bottom:"-12px",left:"50%",transform:"translate(-50%, 10%)",cursor:"pointer"}),Ju=Fs("div",{borderRadius:"$md",border:"3px solid $background",background:"$neutral100",width:"$24",height:"$24",display:"flex",justifyContent:"center",alignItems:"center",color:"$foreground","&:hover":{color:"$secondary500"}});function Os(){let t=P.use.switchFromAndTo();return ir.createElement(Zu,null,ir.createElement(Ju,{onClick:()=>{t()}},ir.createElement(Qu,{size:12})))}i(Os,"SwitchFromAndToButton");import{useEffect as $s,useRef as oc,useState as Us}from"react";import{useRef as ec,useState as tc}from"react";function jo(){let[t,e]=tc(!1),o=ec(null),n=i(()=>o.current?.abort(),"cancel");return{fetch:i(async s=>{n(),o.current=new AbortController,e(!0);try{let a=await xt().getBestRoute(s,{signal:o.current.signal});return o.current=null,a}catch(a){throw a}finally{e(!1)}},"fetch"),loading:t,cancelFetch:n}}i(jo,"useFetchBestRoute");var nc=600;function zs(){let{fetch:t,cancelFetch:e}=jo(),[o,n]=Us(!1),{fromToken:r,toToken:s,inputAmount:a,inputUsdValue:p,resetRoute:l,setRoute:u}=P(),{slippage:c,customSlippage:m,affiliatePercent:d,affiliateRef:h,affiliateWallets:C,disabledLiquiditySources:y}=$(),[S,T]=Us(""),f=oc(y),w=m??c,v=!r||!s||Xe(r,s)||!Gt(a),B=i(()=>{if(o||n(!0),!v){l();let E=Ro({fromToken:r,toToken:s,inputAmount:a,disabledLiquiditySources:y,slippage:w,affiliateRef:h,affiliatePercent:d,affiliateWallets:C});t(E).then(O=>{n(!1),u(O)}).catch(O=>{l(),O?.code!=="ERR_CANCELED"&&(T(O.message),n(!1))})}},"fetch"),F=Mi(()=>{v||B()},nc);return $s(()=>{if(!Gt(a)||p?.eq(0)){n(!1),e();return}if(!v)return l(),n(!0),F(),e},[a,v]),$s(()=>{let E=!!f.current.length&&!y.length;return!v&&E&&B(),f.current=y,e},[y.length]),{fetch:B,loading:o,error:S}}i(zs,"useSwapInput");var dc=Lt("div",{display:"flex",flexDirection:"column",overflowY:"visible"}),fc=Lt("div",{position:"relative"}),gc=Lt("div",{display:"flex",flexDirection:"column",gap:5,alignSelf:"stretch"}),Hs=Lt("div",{width:"100%",paddingTop:"$2"}),hc=Lt("div",{paddingBottom:"$15"}),yc=Lt("div",{width:"100%",display:"flex"});function Qo(){let t=mc(),{fetch:e,loading:o,error:n}=zs(),{fromToken:r,fromBlockchain:s,toToken:a,toBlockchain:p,setInputAmount:l,inputAmount:u,inputUsdValue:c,outputAmount:m,outputUsdValue:d,bestRoute:h,resetRouteWallets:C}=P(),{meta:{tokens:y,blockchains:S},loadingStatus:T}=b(),f=G.use.connectedWallets(),w=ve.use.setCurrentPage(),[x,v]=cc(!1),{fromAmountRangeError:B,swap:F,recommendation:E}=Go(h),O=uc(null),X=!!Number(u)&&(!!h||o||!!n),oe=!1,W=zo(c,d),J=qo(c,W),H=!tr(h,u,c),ne=!tr(h,u,d),L=ys(T,f,o,h,Ho(h),J,H||ne,oe,u),me=s&&r?k(Bt(f,s?.name,r?.symbol,r?.address)?.amount||"0",8,8):"0",Ne=s&&r?k(Bt(f,s?.name,r?.symbol,r?.address)?.amount||"0",Bt(f,s?.name,r?.symbol,r?.address)?.decimal):"0";pc(()=>(w(g.home),C(),w.bind(null,"")),[]);let U=!c||!d||!d.gt(0)?null:et(c.toNumber(),d.toNumber()),K=i(_e=>_e.map((se,ft)=>({swapper:{displayName:se.swapperId,image:se.swapperLogo},from:{token:{displayName:se.from.symbol,image:se.from.logo},chain:{displayName:Je(se.from.blockchain,S)??"",image:se.from.blockchainLogo},price:{value:ft===0?k(u,6,6):se.fromAmount}},to:{token:{displayName:se.to.symbol,image:se.to.logo},chain:{displayName:Je(se.to.blockchain,S)??"",image:se.to.blockchainLogo},price:{value:se.toAmount}},alerts:se.swapperId===F?.swapperId?j.createElement(hc,null,j.createElement(rc,{type:"error",title:E,footer:j.createElement(yc,null,j.createElement(ar,{size:"xsmall",variant:"body",color:"neutral900"},B),j.createElement(sr,{direction:"horizontal",size:8}),j.createElement(ar,{size:"xsmall",variant:"body",color:"neutral900"},"|"),j.createElement(sr,{direction:"horizontal",size:8}),j.createElement(ar,{size:"xsmall",variant:"body",color:"neutral900"},Yo.t({id:"yourSymbol",message:"Yours: {amount} {symbol}",values:{amount:k(F?.fromAmount||null,6,6),symbol:se?.from.symbol}})))})):void 0})),"getBestRouteSteps"),Ie=Vo(h,y),Te=fs(h);return j.createElement(Q,{ref:O,fixedHeight:!1,hasLogo:!0,footer:j.createElement(ac,{type:"primary",size:"large",disabled:L.disabled,prefix:!L.disabled&&L.hasWarning&&j.createElement(lc,null),fullWidth:!0,onClick:()=>{L.state==="waitForConnecting"?t(g.wallets):L.state==="needToConfirm"?v(!0):t(g.confirmSwap)}},L.title),header:{hasConnectWallet:!0,title:Yo.t("Swap"),suffix:j.createElement(Rn,{layoutRef:O.current,onClickRefresh:h||n?e:void 0,onClickHistory:()=>t(g.swaps),onClickSettings:()=>t(g.settings)})}},j.createElement(dc,null,j.createElement(gc,null,j.createElement(fc,null,j.createElement(qs,{label:Yo.t("From"),mode:"From",onInputChange:l,balance:me,chain:{displayName:s?.displayName||"",image:s?.logo||""},token:{displayName:r?.symbol||"",image:r?.image||""},onClickToken:()=>t("from-swap"),price:{value:u,usdValue:H?void 0:k(c,4,4),error:H?z.unknownPriceError.impactTitle:void 0},disabled:T==="failed",loading:T==="loading",onSelectMaxBalance:()=>{me!=="0"&&l(Ne.split(",").join(""))}}),j.createElement(Os,null)),j.createElement(qs,{sharpBottomStyle:!!h?.result||o,label:Yo.t("To"),mode:"To",chain:{displayName:p?.displayName||"",image:p?.logo||""},token:{displayName:a?.symbol||"",image:a?.image||""},percentageChange:U?.lt(0)?k(U,2,2):null,warningLevel:It(U?.toNumber()??0),price:{value:k(m,6,6),usdValue:ne?void 0:k(d,4,4),error:ne?z.unknownPriceError.impactTitle:void 0},onClickToken:()=>t("to-swap"),disabled:T==="failed",loading:T==="loading"})),o&&j.createElement(Hs,null,j.createElement(sc,{type:"basic"})),X&&!o&&Te?.result?.swaps?.length?j.createElement(Hs,null,j.createElement(ic,{type:"basic",recommended:!0,tooltipContainer:ae(),input:{value:k(u,6,6),usdValue:k(c,4,4)},output:{value:k(m,6,6),usdValue:k(d,4,4)},steps:K(Te.result.swaps),percentageChange:k(U,2,2),totalFee:k(Ie,2,2),totalTime:At(Et(h?.result?.swaps))})):X&&!o?j.createElement(j.Fragment,null,j.createElement(sr,{size:20}),j.createElement(Rt,{diagnosisMessage:Te?.diagnosisMessages?.[0],fetch:e,error:!!n})):null),j.createElement(rr,{openModal:x,onToggle:v,totalFeeInUsd:Ie,outputUsdValue:d,inputUsdValue:c,percentageChange:U,highValueLoss:J,priceImpactCanNotBeComputed:H||ne,loading:o||T==="loading",extraSpace:!!h?.result||!h}))}i(Qo,"Home");import{useEffect as lr,useRef as pr}from"react";import{createSearchParams as Sc,useLocation as Cc,useSearchParams as kc}from"react-router-dom";import{useEffect as Zo,useRef as Jo}from"react";function Gs(t){let{setInputAmount:e,setToToken:o,setToBlockchain:n,setFromBlockchain:r,setFromToken:s}=P(),{meta:{tokens:a,blockchains:p},loadingStatus:l}=b(),{setAffiliateRef:u,setAffiliatePercent:c,setAffiliateWallets:m}=$(),d=Jo(void 0),h=Jo(void 0),C=Jo(void 0),y=Jo(void 0);Zo(()=>{e(t?.amount?.toString()||"")},[t?.amount]),Zo(()=>{if(l==="success"){let S=p.find(f=>f.name===t?.from?.blockchain),T=a.find(f=>Xe(f,t?.from?.token||null));(S||!S&&C.current)&&r(S??null),(T||!T&&d.current)&&s(T??null),C.current=t?.from?.blockchain,d.current=t?.from?.token}},[t?.from?.token?.symbol,t?.from?.token?.address,t?.from?.token?.blockchain,t?.from?.blockchain,l]),Zo(()=>{if(l==="success"){let S=p.find(f=>f.name===t?.to?.blockchain),T=a.find(f=>Xe(f,t?.to?.token||null));(S||!S&&y.current)&&n(S??null),(T||!T&&h.current)&&o(T??null),y.current=t?.to?.blockchain,h.current=t?.to?.token}},[t?.to?.token?.symbol,t?.to?.token?.address,t?.to?.token?.blockchain,t?.to?.blockchain,l]),Zo(()=>{u(t?.affiliate?.ref??null),c(t?.affiliate?.percent??null),m(t?.affiliate?.wallets??null)},[t?.affiliate?.ref,t?.affiliate?.percent,t?.affiliate?.wallets])}i(Gs,"useSyncStoresWithConfig");function Vs(t){let e=pr(!0),[o,n]=kc(),r=Cc(),s=pr(r.search),a=pr({}),p=P.use.fromBlockchain(),l=P.use.toBlockchain(),u=P.use.fromToken(),c=P.use.toToken(),m=P.use.setFromBlockchain(),d=P.use.setFromToken(),h=P.use.setToBlockchain(),C=P.use.setToToken(),y=P.use.inputAmount(),S=P.use.setInputAmount(),T=b.use.loadingStatus(),{blockchains:f,tokens:w}=b.use.meta(),x=ve.use.setSelectedSwap();return Gs(t.config),lr(()=>{let v={};Sc(s.current).forEach((F,E)=>{v[E]=F}),a.current=v;let B=r.pathname.split(g.swaps+"/")[1]||null;B&&x(B)},[]),lr(()=>{if(!e.current){let v="",B="",F="",E="",O="";if(T!=="success")v=a.current["fromBlockchain"],B=a.current["fromToken"],F=a.current["toBlockchain"],E=a.current["toToken"],O=a.current["fromAmount"]||y;else{if(r.state==="redirect")return;v=p?.name||"",B=(u?.symbol||"")+(u?.address?`--${u?.address}`:""),F=l?.name||"",E=(c?.symbol||"")+(c?.address?`--${c?.address}`:""),O=y}n({...v&&{["fromBlockchain"]:v},...B&&{["fromToken"]:B},...F&&{["toBlockchain"]:F},...E&&{["toToken"]:E},...O&&{["fromAmount"]:O.toString()}},{replace:!0})}e.current=!1},[r.pathname,y,p,u,l,c]),lr(()=>{if(T==="success"){let v=o.get("fromBlockchain"),B=o.get("fromToken"),F=o.get("toBlockchain"),E=o.get("toToken"),O=o.get("fromAmount"),X=f.find(H=>H.name===v),oe=Qn(w,B,X||null),W=f.find(H=>H.name===F),J=Qn(w,E,W||null);X&&(m(X),oe&&d(oe)),W&&(h(W),J&&C(J)),O&&S(O)}},[T]),null}i(Vs,"UpdateUrl");function Nc(t){let e=Bc(),o=Wc(),n=xc(!0),r=e.pathname.split("/"),a=r[r.length-1]===g.confirmSwap&&n.current;return bc(()=>{a&&o("."),n.current=!1},[]),a?yt.createElement(Qo,null):yt.createElement(yt.Fragment,null," ",t.children)}i(Nc,"Route");function Rs({children:t,...e}){let o=Ec(),n=o?Nc:Ac,{blockchains:r}=b.use.meta(),{canSwitchNetworkTo:s}=wc(),a=r.filter(vc);return Tc({lastConnectedWallet:e.lastConnectedWallet,clearDisconnectedWallet:e.clearDisconnectedWallet,disconnectedWallet:e.disconnectedWallet,evmChains:a,canSwitchNetworkTo:s}),yt.createElement(yt.Fragment,null,yt.createElement(n,null,t),o&&yt.createElement(Vs,{config:e.config}))}i(Rs,"AppRouter");import We from"react";import{useRoutes as eg}from"react-router-dom";import{i18n as Ke}from"@lingui/core";import{useManager as vm}from"@rango-dev/queue-manager-react";import{Alert as Sr,BestRoute as bm,BestRouteSkeleton as xm,Button as an,Divider as Ot,IconButton as Ia,MessageBox as Am,Modal as Em,RefreshIcon as Bm,SettingsIcon as Wm,styled as Ma,Tooltip as Nm,Typography as Na,WalletIcon as Im}from"@rango-dev/ui";import I,{useEffect as ln,useState as pn}from"react";import{flushSync as Mm}from"react-dom";import{useNavigate as Lm}from"react-router-dom";import{i18n as rt}from"@lingui/core";import{Alert as yr,BalanceErrors as am,Button as Aa,ChevronDownIcon as lm,ChevronLeftIcon as pm,Divider as Ft,MessageBox as um,Modal as Ea,Typography as sn,WalletIcon as cm}from"@rango-dev/ui";import A,{useEffect as mm,useLayoutEffect as dm,useRef as fm,useState as kt}from"react";import{useNavigate as gm}from"react-router-dom";import{i18n as en}from"@lingui/core";function tn(t){switch(t.type){case 0:return en.t("Route has been updated.");case 3:return en.t("Output amount changed to {newOutputAmount} ({percentageChange}% change).",{newOutputAmount:t.newOutputAmount,percentageChange:t.percentageChange});case 1:return en.t("Route swappers has been updated.");case 2:return en.t("Route internal coins has been updated.");default:return""}}i(tn,"getRouteWarningMessage");import*as Dt from"@radix-ui/react-collapsible";import{Button as Ic,darkTheme as Pt,IconButton as Mc,keyframes as Xs,styled as Ce,TextField as Lc}from"@rango-dev/ui";var jt=300,Pc=Xs({from:{height:0},to:{height:"var(--radix-collapsible-content-height)"}}),Dc=Xs({from:{height:"var(--radix-collapsible-content-height)"},to:{height:0}}),Ks=Ce("div",{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),js=Ce("div",{display:"grid",gap:"$10",gridTemplateColumns:" repeat(3, minmax(0, 1fr))",alignContent:"baseline"}),Ys=Ce("button",{borderRadius:"$xm",padding:"$10",border:"0",display:"flex",justifyContent:"center",$$color:"$colors$neutral100",[`.${Pt} &`]:{$$color:"$colors$neutral300"},backgroundColor:"$$color",alignItems:"center",cursor:"pointer",width:110,position:"relative","&:hover":{$$color:"$colors$info100",[`.${Pt} &`]:{$$color:"$colors$neutral100"},backgroundColor:"$$color"},"&:focus-visible":{$$color:"$colors$info100",[`.${Pt} &`]:{$$color:"$colors$info700"},backgroundColor:"$$color",outline:0},variants:{selected:{true:{outlineWidth:1,outlineColor:"$secondary",outlineStyle:"solid"}}}}),Qs=Ce(Dt.Trigger,{padding:"$0",border:"none",outline:"none",width:"100%",backgroundColor:"transparent",fontFamily:"inherit"}),Zs=Ce("div",{padding:"$20",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"$neutral200",position:"relative",width:"100%"}),Js=Ce(Mc,{position:"absolute",left:"$20"}),ea=Ce("div",{paddingTop:"$20","& .wallets-list":{display:"grid",gap:"$10",gridTemplateColumns:" repeat(3, minmax(0, 1fr))",alignContent:"baseline"}}),ta=Ce(Dt.Root,{backgroundColor:"$neutral200",borderRadius:"$sm",variants:{selected:{true:{outlineWidth:1,outlineColor:"$secondary500",outlineStyle:"solid"}}}}),oa=Ce(Ic,{width:"100%",borderRadius:"$sm !important",padding:"$15 !important",justifyContent:"space-between",alignItems:"center",$$color:"$colors$neutral100",[`.${Pt} &`]:{$$color:"$colors$neutral300"},backgroundColor:"$$color","&:hover":{$$color:"$colors$info100",[`.${Pt} &`]:{$$color:"$colors$neutral100"},backgroundColor:"$$color"},"&:focus-visible":{$$background:"$colors$info100",[`.${Pt} &`]:{$$background:"$colors$info700"},backgroundColor:"$$background",outline:0}}),na=Ce("div",{padding:"$10 $0","& .button__content":{display:"flex",justifyContent:"center",alignItems:"center"},"& .alarms":{paddingTop:"5px"}}),ra=Ce("div",{transition:`all ${jt}ms ease`,variants:{orientation:{down:{transform:"rotate(0)"},up:{transform:"rotate(180deg)"}}}}),ia=Ce("div",{display:"flex"}),sa=Ce(Lc,{padding:"$0 $15 $15 $15"}),aa=Ce(Dt.Content,{overflow:"hidden",variants:{open:{true:{animation:`${Pc} ${jt}ms ease-out`},false:{animation:`${Dc} ${jt}ms ease-out`}}}}),la=Ce("div",{overflow:"visible",width:"100%"});import{i18n as nt}from"@lingui/core";import{Button as rm,Divider as fr,Image as im,MessageBox as gr,Modal as Ta,SelectableWallet as sm,Typography as wa,WalletState as va}from"@rango-dev/ui";import ie,{useEffect as ba,useState as Qt}from"react";import{WalletState as pa}from"@rango-dev/ui";import{useWallets as _c}from"@rango-dev/wallets-react";import{KEPLR_COMPATIBLE_WALLETS as Fc,WalletTypes as Oc}from"@rango-dev/wallets-shared";import{useEffect as $c,useState as Uc}from"react";var zc=Object.values(Oc);function on(t){let{config:e,chain:o,onBeforeConnect:n,onConnect:r}=t,{state:s,disconnect:a,getWalletInfo:p,connect:l}=_c(),{connectedWallets:u}=G(),{blockchains:c}=b().meta,m=typeof e?.multiWallets>"u"?!0:e.multiWallets,d=Pi(e?.wallets,{walletConnectProjectId:e?.walletConnectProjectId})||zc,h=vi(s,p,d,o),C=Wi(h),[y,S]=Uc(""),T=i(v=>!u.find(B=>B.walletType===v&&B.chain===o),"isExperimentalChainNotAdded"),f=i(async v=>{let B=s(v);try{if(y&&S(""),B.connected)await a(v);else{let F=!!h.find(E=>E.state===pa.CONNECTED);if(!m&&F)return;n?.(v),await l(v),r?.(v)}}catch(F){S("Error: "+F?.message)}},"handleClick"),w=i(()=>{let v=h?.filter(B=>B.state===pa.CONNECTING)||[];for(let B of v)a(B.type)},"disconnectConnectingWallets");$c(()=>()=>{w()},[]);let x=i((v,B,F)=>bo(F,B)&&T(v)&&!Fc.includes(v),"shouldExcludeWallet");return{list:C.filter(v=>!x(v.type,o??"",c)),error:y,handleClick:f}}i(on,"useWalletList");import{i18n as fa}from"@lingui/core";import{styled as ha,Typography as Yc,Wallet as Qc,WalletState as Zc}from"@rango-dev/ui";import Ct,{Fragment as Jc,useState as ga}from"react";import{Divider as Rc,Modal as Xc}from"@rango-dev/ui";import cr from"react";import{i18n as _t}from"@lingui/core";import{Image as Gc,MessageBox as ur,WalletState as Vc}from"@rango-dev/ui";import St from"react";import{keyframes as qc,styled as nn}from"@rango-dev/ui";var uw=nn("div",{borderRadius:"$lg",width:"$45",height:"$45",backgroundColor:"$success300",display:"flex",justifyContent:"center",alignItems:"center"}),ua=nn("div",{position:"relative"}),Hc=qc({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),ca=nn("div",{position:"absolute",border:"2px solid rgba(0, 0, 0, 0.1)",borderTop:"2px solid $info500",borderRadius:"$lg",width:"$45",height:"$45",animation:`${Hc} 1s linear infinite`,top:0,bottom:0,right:0,left:0}),ma=nn("div",{"& img":{borderRadius:"50%"}});function da(t){let{state:e,image:o,error:n}=t;return e===Vc.CONNECTED?St.createElement(ur,{type:"success",title:_t.t("Wallet Connected"),description:_t.t("Your wallet is connected, you can use it to swap.")}):n?St.createElement(ur,{type:"error",title:_t.t("Failed to Connect"),description:n||_t.t("Your wallet is not connected. Please try again.")}):St.createElement(ur,{type:"loading",title:_t.t("Connecting to your wallet"),description:_t.t("Click connect in your wallet popup."),icon:St.createElement(ua,null,St.createElement(ma,null,St.createElement(Gc,{src:o,size:45})),St.createElement(ca,null))})}i(da,"ModalContent");function Yt(t){let{open:e,onClose:o,...n}=t;return cr.createElement(Xc,{open:e,onClose:o,container:document.getElementById("swap-box")||document.body},cr.createElement(da,{...n}),cr.createElement(Rc,{direction:"vertical",size:32}))}i(Yt,"WalletModal");import{useInRouterContext as Kc,useNavigate as jc}from"react-router-dom";function re(){let t=Kc(),e=jc(),o=P.use.routeWalletsConfirmed();return g,{navigateBackFrom:i(r=>{if(r===g.swapDetails)return e("/"+g.swaps,{replace:!0});if(!t||window.history.state&&window.history.state.idx>0)e(-1);else{if([g.settings,g.wallets].includes(r)&&o)return e("/"+g.confirmSwap,{replace:!0});[g.fromSwap,g.toSwap,g.settings,g.wallets,g.swaps,g.confirmSwap].includes(r)?e(g.home,{replace:!0}):r===g.fromBlockchain?e("/"+g.fromSwap,{replace:!0}):r===g.toBlockchain?e("/"+g.fromSwap,{replace:!0}):r===g.liquiditySources&&e("/"+g.settings,{replace:!0})}},"navigateBackFrom")}}i(re,"useNavigateBack");var em=ha("div",{display:"grid",gap:"$10",gridTemplateColumns:" repeat(3, minmax(0, 1fr))",alignContent:"baseline",paddingTop:"$15",height:"100%"}),tm=ha("div",{textAlign:"center"}),rn=3e3,mr=300;function ya({config:t}){let{navigateBackFrom:e}=re(),[o,n]=ga(!1),[r,s]=ga(""),a=null,{list:p,handleClick:l,error:u}=on({config:t,onBeforeConnect:C=>{a=setTimeout(()=>{n(!0),s(C)},mr)},onConnect:()=>{a&&clearTimeout(a),setTimeout(()=>{n(!1)},rn)}}),c=b.use.loadingStatus(),m=p.find(C=>C.type===r),d=m?.image||"",h=m?.state||Zc.NOT_INSTALLED;return Ct.createElement(Q,{header:{title:fa.t("Connect Wallets"),onBack:e.bind(null,g.wallets)}},Ct.createElement(tm,null,Ct.createElement(Yc,{variant:"title",size:"xmedium",align:"center"},fa.t("Choose a wallet to connect.")),Ct.createElement(em,null,p.map((C,y)=>{let S=`wallet-${y}-${C.type}`;return Ct.createElement(Jc,{key:S},Ct.createElement(Qc,{...C,container:ae(),onClick:T=>{l(T)},isLoading:c==="loading"}))}),Ct.createElement(Yt,{open:!!o,onClose:()=>n(!1),image:d,state:h,error:u}))))}i(ya,"WalletsPage");import{keyframes as om,styled as dr}from"@rango-dev/ui";var Sa=dr("div",{position:"relative"}),nm=om({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Ca=dr("div",{position:"absolute",border:"2px solid rgba(0, 0, 0, 0.1)",borderTop:"2px solid $info500",borderRadius:"$lg",width:"$45",height:"$45",animation:`${nm} 1s linear infinite`,top:0,bottom:0,right:0,left:0}),ka=dr("div",{"& img":{borderRadius:"50%"}});function hr(t){let{config:e,chain:o,isSelected:n,selectWallet:r,limit:s,onShowMore:a}=t,p=G.use.connectedWallets(),{blockchains:l}=b.use.meta(),[u,c]=Qt(""),[m,d]=Qt(null),[h,C]=Qt(!1),[y,S]=Qt(null),{connect:T}=xa(),f=null,{list:w,error:x,handleClick:v}=on({config:e,chain:o,onBeforeConnect:W=>{f=setTimeout(()=>{c(W)},mr)},onConnect:()=>{f&&clearTimeout(f),setTimeout(()=>{c("")},rn)}}),[B,F]=Qt(w),E=w.length,O=s&&E-s>0,X=i(async W=>{C(!1),S("in-progress"),await T(W.walletType,W.chain),S("completed")},"addExperimentalChain");ba(()=>{F(W=>{let J=w.findIndex(H=>n(H.type,o));return O&&J>1?[w[J]].concat(w.filter((H,ne)=>ne!==J)):W.map(H=>w.find(ne=>ne.type===H.type)??H)})},[JSON.stringify(w)]);let oe=document.querySelector("#swap-box");return ba(()=>{let W=null;return y==="completed"&&(W=setTimeout(()=>S(null),rn)),()=>{W&&clearTimeout(W)}},[y]),ie.createElement(ie.Fragment,null,B.slice(0,s).map(W=>{let J=Ni({connectedWallets:p,walletType:W.type,chain:o}),H=J?xo(J):"",ne=bo(l,o),L=!p.find(Ie=>Ie.walletType===W.type&&Ie.chain===o),me=ne&&L&&W.state===va.CONNECTED,Ne=me?nt.t({id:"addChain",message:"Add {chain} chain",values:{chain:o}}):H,U=i(()=>{W.state===va.DISCONNECTED?v(W.type):me?(d({walletType:W.type,chain:o,address:J??""}),C(!0)):r({walletType:W.type,chain:o,address:J??""})},"onClick"),K=m?.chain?us(m.chain,l):void 0;return ie.createElement(ie.Fragment,null,ie.createElement(Yt,{open:u===W.type,onClose:()=>c(""),image:W.image,state:W.state,error:x}),!!m&&ie.createElement(Ta,{open:!!m&&h,container:oe,onClose:()=>{d(null)}},ie.createElement(gr,{title:nt.t({id:"addBlockchain",message:"Add {blockchainDisplayName} Chain",values:{blockchainDisplayName:K}}),type:"warning",description:nt.t({id:"addBlockchainDescription",message:"You should connect a {blockchainDisplayName} supported wallet or choose a different {blockchainDisplayName} address",values:{blockchainDisplayName:K}})},ie.createElement(fr,{size:18}),ie.createElement(fr,{size:32}),ie.createElement(rm,{onClick:X.bind(null,m),variant:"outlined",type:"primary",fullWidth:!0,size:"large"},nt.t("Confirm")))),y&&ie.createElement(Ta,{open:!!y,onClose:S.bind(null,null),container:oe},y==="in-progress"?ie.createElement(gr,{type:"loading",title:nt.t({id:"addBlockchain",message:"Add {blockchainDisplayName} Chain",values:{blockchainDisplayName:K}}),description:nt.t({id:"addBlockchainDescription",message:"You should connect a {blockchainDisplayName} supported wallet or choose a different {blockchainDisplayName} address",values:{blockchainDisplayName:K}}),icon:ie.createElement(Sa,null,ie.createElement(ka,null,ie.createElement(im,{src:W.image,size:45})),ie.createElement(Ca,null))}):ie.createElement(gr,{type:"success",title:nt.t({id:"blockchainAdded",message:"{blockchainDisplayName} Chain Added",values:{blockchainDisplayName:K}}),description:nt.t({id:"blockchainAddedDescription",message:"{blockchainDisplayName} is added to your wallet, you can use it to swap.",values:{blockchainDisplayName:K}})}),ie.createElement(fr,{direction:"vertical",size:32})),ie.createElement(sm,{key:W.type,description:Ne,onClick:U,selected:n(W.type,o),...W}))}),O&&ie.createElement(Ys,{selected:!1,onClick:a.bind(null)},ie.createElement(wa,{variant:"label",size:"medium"},nt.t("Show more wallets"),ie.createElement(wa,{variant:"label",size:"medium",color:"$primary"},"\xA0+",E-(s??0)))))}i(hr,"WalletList");var hm=2;function Ba(t){let{open:e,onClose:o,onCancel:n,onCheckBalance:r,config:s,loading:a}=t,{blockchains:p}=b.use.meta(),{bestRoute:l,setSelectedWallets:u,routeWalletsConfirmed:c,setRouteWalletConfirmed:m,customDestination:d,setCustomDestination:h}=P(),{connectedWallets:C,selectWallets:y}=G(),[S,T]=kt(""),[f,w]=kt([]),[x,v]=kt(""),[B,F]=kt(null),[E,O]=kt(d),[X,oe]=kt(!!d),W=fm(null),J=Do(l),H=typeof s?.customDestination>"u"?!0:s.customDestination,ne=p.find(D=>D.name===l?.result?.swaps[l?.result?.swaps.length-1].to.blockchain),L=i(D=>!!l?.result?.swaps.find(N=>N.from.blockchain===D),"isWalletRequiredFor"),[me,Ne]=kt(C.filter(D=>D.selected&&J.includes(D.chain))),U=p.find(D=>D.name===ne?.name),K=i((D,N)=>!!me.find(_=>_.walletType===D&&_.chain===N&&_.selected&&(L(N)||!L(N)&&!E)),"isSelected"),Ie=!!E&&X&&U&&!_o(U,E),Te=i(()=>{oe(!1),O(""),Ne(D=>{let N=!1;return D.map(_=>!N&&_.chain===ne?.name?(N=!0,{..._,selected:!0}):_)})},"resetCustomDestination"),_e=i(D=>{if(S&&T(""),K(D.walletType,D.chain))return;let _=C.find(Y=>Y.walletType===D.walletType&&Y.chain===D.chain);_&&(n(),D.chain===ne?.name&&X&&(oe(!1),O("")),Ne(Y=>Y.filter(le=>le.chain!==D.chain).concat({..._,selected:!0})))},"onChange"),se=i(()=>{let D=me.filter(N=>N.selected);y(D),u(D),h(E),m(!0),o()},"onConfirmBalance"),ft=i(async()=>{w([]),v(""),F(null);let D=C.filter(Y=>me.find(le=>le.chain===Y.chain&&le.walletType===Y.walletType)),N=await r?.({selectedWallets:D,customDestination:E}),_=N.warnings;_?.balance?.messages&&w(_.balance.messages),_?.route&&F(_.route),N.error&&v(Lo(N.error)),!N.error&&(!_?.balance?.messages.length||0>0)?se():w(_?.balance?.messages??[])},"onConfirmWallets");mm(()=>{Ne(D=>D.concat(C.filter(N=>!!!D.find(Y=>Y.chain===N.chain)&&N.selected&&J.includes(N.chain))))},[C.length]),dm(()=>{X&&W.current&&setTimeout(()=>{W?.current?.scrollIntoView({behavior:"smooth"})},jt)},[X]);let Ze=document.querySelector("#swap-box"),bt=gm();return A.createElement(Ea,{open:e,onClose:()=>{c||bt(g.home,{replace:!0}),o()},dismissible:!S,container:Ze,...!S&&{footer:A.createElement(ia,null,A.createElement(Aa,{loading:a,disabled:Es(a,X,E,l,me,ne),onClick:ft,variant:"contained",type:"primary",fullWidth:!0,size:"large"},"Confirm"))},...S&&{containerStyle:{padding:"$0"},header:A.createElement(Zs,null,A.createElement(Js,{variant:"ghost",onClick:T.bind(null,"")},A.createElement(pm,{size:16})),A.createElement(sn,{variant:"headline",size:"small"},rt.t({id:"yourWallets",message:"Your {blockchainName} wallets",values:{blockchainName:S}})))},anchor:"center"},A.createElement(Ea,{open:f.length>0,onClose:w.bind(null,[]),container:Ze},A.createElement(um,{title:rt.t("Insufficient account balance"),type:"error",description:A.createElement(am,{messages:f??[]})},A.createElement(Aa,{variant:"outlined",size:"large",type:"primary",fullWidth:!0,onClick:se},rt.t("Proceed anyway")))),S&&A.createElement(ea,null,A.createElement("div",{className:"wallets-list"},A.createElement(hr,{chain:S,isSelected:K,selectWallet:_e,multiWallets:s?.multiWallets??!0,supportedWallets:s?.wallets??[],config:s,onShowMore:T.bind(null,S)}))),!S&&A.createElement(A.Fragment,null,x&&A.createElement(A.Fragment,null,A.createElement(yr,{variant:"alarm",type:"error",title:rt.t(x)}),A.createElement(Ft,{size:12})),B&&A.createElement(A.Fragment,null,A.createElement(yr,{variant:"alarm",type:"warning",title:tn(B)}),A.createElement(Ft,{size:12})),A.createElement(la,null,J.map((D,N)=>{let _=p.find(ue=>ue.name===D),Y=`wallet-${N}`,le=N===J.length-1;return A.createElement("div",{key:Y},A.createElement(Ks,null,A.createElement(sn,{variant:"title",size:"xmedium"},rt.t({id:"yourWallets",message:"Your {blockchainName} wallets",values:{blockchainName:_?.displayName}})),A.createElement(sn,{variant:"label",color:"$neutral900",size:"medium"},rt.t({id:"needConnect",message:"You need to connect a {blockchainName} wallet.",values:{blockchainName:_?.displayName}}))),A.createElement(Ft,{size:24}),A.createElement(js,null,A.createElement(hr,{chain:D,isSelected:K,selectWallet:_e,multiWallets:s?.multiWallets??!0,supportedWallets:s?.wallets??[],config:s,limit:hm,onShowMore:()=>T(_?.name??"")})),!le&&A.createElement(Ft,{size:32}),le&&H&&A.createElement(na,null,A.createElement(ta,{ref:W,selected:X,open:X,onOpenChange:ue=>{ue?L(ne?.name??"")||Ne(ho=>ho.map(yo=>yo.chain===ne?.name?{...yo,selected:!1}:yo)):Te()}},A.createElement(Qs,{onClick:()=>oe(ue=>!ue)},A.createElement(oa,{fullWidth:!0,variant:"default",suffix:A.createElement(ra,{orientation:X?"up":"down"},A.createElement(lm,{size:10,color:"gray"}))},A.createElement("div",{className:"button__content"},A.createElement(cm,{size:18,color:"info"}),A.createElement(Ft,{size:4,direction:"horizontal"}),A.createElement(sn,{variant:"label",size:"medium"},rt.t("Send to a different address"))))),A.createElement(aa,{open:X},A.createElement(A.Fragment,null,A.createElement(Ft,{size:4}),A.createElement(sa,{autoFocus:!0,placeholder:rt.t("Your destination address"),value:E,onChange:ue=>{O(ue.target.value)}})))),Ie&&A.createElement("div",{className:"alarms"},A.createElement(yr,{variant:"alarm",type:"error",title:rt.t({id:"addressMatch",values:{destination:E},message:"Address {destination} doesn't match the blockchain address pattern."})}))))}))))}i(Ba,"ConfirmWalletsModal");import{calculatePendingSwap as Sm}from"@rango-dev/queue-manager-rango-preset";import Cm from"bignumber.js";import{useEffect as km}from"react";function Tm(t,e){if(!t.result)throw new Error(z.noRoutesError.title,{cause:{type:0,diagnosisMessage:t.diagnosisMessages?.[0]}});let o=new Cm(t.result?.outputAmount||"0").multipliedBy(e.outputUsdValue||0),n=zo(e.inputUsdValue,o);if(qo(e.inputUsdValue,n))throw new Error("High value loss for route",{cause:{type:1}});return t}i(Tm,"throwErrorIfResponseIsNotValid");function wm(t,e,o){let n=ms(t,e),r={balance:null,route:null,slippage:null};n&&(Ts(t,e)?r.route={type:3,newOutputAmount:k(Mt(e)),percentageChange:k(et(Mt(t),Mt(e)),null,2)}:Zn(t,e)?r.route={type:0}:Jn(t,e)?r.route={type:1}:er(t,e)&&(r.route={type:2}));let s=ws(e,o.selectedWallets);s.length===0||(r.balance={messages:s});let p=Ss(t),l=o.userSlippage>es;return Cs(o.userSlippage.toString(),p)?l&&(r.slippage={type:1,slippage:o.userSlippage.toString()}):r.slippage={type:0,slippage:p},r}i(wm,"generateWarnings");function Wa(){let{fromToken:t,toToken:e,inputAmount:o,inputUsdValue:n,setRoute:r,bestRoute:s,customDestination:a}=P(),{slippage:p,customSlippage:l,affiliatePercent:u,affiliateRef:c,affiliateWallets:m,disabledLiquiditySources:d}=$(),{connectedWallets:h}=G(),{meta:C}=b(),y=l||p,{fetch:S,cancelFetch:T,loading:f}=jo();return km(()=>T,[]),{loading:f,fetch:i(async x=>{let v=x.selectedWallets,B=x?.customDestination??a;if(!t||!e||!o||!s)return{route:null,swap:null,error:null,warnings:null};let F=Ro({fromToken:t,toToken:e,inputAmount:o,wallets:h,selectedWallets:v,disabledLiquiditySources:d,slippage:y,affiliateRef:c,affiliatePercent:u,affiliateWallets:m,initialRoute:s,destination:B}),E;try{E=await S(F).then(oe=>Tm(oe,{outputUsdValue:e.usdPrice,inputUsdValue:n})),r(E)}catch(oe){return oe?.code==="ERR_CANCELED"?{swap:null,error:{type:3},warnings:null}:oe.cause?{swap:null,error:oe.cause,warnings:null}:{swap:null,error:{type:2},warnings:null}}let O={slippage:y.toString(),disabledSwappersGroups:d},X=Sm(o.toString(),E,ks(v),O,!1,C);return{route:E,swap:X,error:null,warnings:wm(s,E,{selectedWallets:v,userSlippage:y})}},"fetch"),cancelFetch:T}}i(Wa,"useConfirmSwap");var Pm=Ma("div",{position:"relative",width:"100%","& .description":{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"$10"},"& .icon":{width:"$24",height:"$24",display:"flex",justifyContent:"center",alignItems:"center"}}),Dm=Ma("div",{width:"100%",display:"flex",justifyContent:"space-between","& .confirm-button":{flexGrow:1,paddingRight:"$10"},[`& ${Ia}`]:{width:"$48",height:"$48"}});function La(t){let{config:e}=t,{bestRoute:o,inputAmount:n,outputAmount:r,inputUsdValue:s,outputUsdValue:a,setInputAmount:p,selectedWallets:l,routeWalletsConfirmed:u,setRouteWalletConfirmed:c,customDestination:m}=P(),d=Lm(),[h,C]=pn(""),[y,S]=pn(!1),{connectedWallets:T}=G(),f=!u,[w,x]=pn(!1),v=ve.use.setSelectedSwap(),{meta:{tokens:B,blockchains:F},loadingStatus:E}=b(),O=$.use.slippage(),X=$.use.customSlippage(),{manager:oe}=vm(),W=X||O,{fetch:J,loading:H,cancelFetch:ne}=Wa(),[L,me]=pn({swap:null,error:null,warnings:null}),Ne=H||E==="loading",U=!H&&L.error&&[0,2].includes(L.error.type),K=!U&&!H&&o&&o.result,Ie=Vo(o,B),Te=k(et(s?.toNumber()??0,a?.toNumber()??0),2,2),_e=It(parseFloat(Te)),se=i(async({selectedWallets:N,customDestination:_})=>{let Y=await J?.({selectedWallets:N,customDestination:_});return me(Y),Y},"onConfirmSwap"),ft=i(async()=>{if(L.swap&&u)try{await oe?.create("swap",{swapDetails:L.swap},{id:L.swap.requestId}),v(L.swap.requestId),d("/"+g.swaps+`/${L.swap.requestId}`,{replace:!0}),setTimeout(()=>{p("")},0)}catch(N){C("Error: "+N?.message)}},"addNewSwap"),Ze=i(async()=>{await ft()},"onConfirm"),bt=i(async()=>{L?.warnings?.slippage?S(!0):await Ze()},"onStartConfirmSwap"),D=i(async()=>{me({error:null,swap:null,warnings:null}),J({selectedWallets:l}).then(N=>{me(N)}).catch(N=>console.error(N))},"onRefresh");return ln(()=>{f&&ne()},[f]),ln(()=>{f&&x(f)},[f]),ln(()=>{f||J({selectedWallets:l,customDestination:m}).then(N=>me(N)).catch(N=>console.error(N))},[]),ln(()=>{let N=L.warnings?.route?.type&&Object.values(Vt).includes(L.warnings?.route?.type),_=l.length<1||!l.every(le=>T.find(ue=>le.address===ue.address&&le.walletType===ue.walletType&&le.chain===ue.chain)),Y=!1;if(N){let le=Do(o),ue=o?.result?.swaps[o.result.swaps.length-1].to.blockchain;!!o?.result?.swaps.find(Pn=>Pn.from.blockchain===ue)||(le=le.slice(-le.length,le.length-1)),le.every(Pn=>l.find(vp=>vp.chain===Pn))||(Y=!0)}o&&(_||Y)&&(queueMicrotask(()=>Mm(x.bind(null,!0))),c(!1))},[L.warnings?.route,l.length,T.length]),I.createElement(Q,{header:{title:Ke.t("Confirm Swap"),onBack:d.bind(null,-1),hasConnectWallet:!0,suffix:I.createElement(Nm,{container:ae(),side:"bottom",content:Ke.t("Settings")},I.createElement(Fe,{size:"small",variant:"ghost",onClick:()=>d("/"+g.settings)},I.createElement(Wm,{size:18,color:"black"})))},footer:I.createElement(Dm,null,I.createElement("div",{className:"confirm-button"},I.createElement(an,{variant:"contained",type:"primary",size:"large",fullWidth:!0,loading:H,disabled:!!L.error,onClick:bt},Ke.t("Start Swap"))),I.createElement(Ia,{variant:"contained",type:"primary",size:"large",loading:H,onClick:x.bind(null,!0)},I.createElement(Im,{size:24})))},I.createElement(Em,{anchor:"bottom",open:y,prefix:I.createElement(an,{size:"small",variant:"ghost",onClick:()=>d("/"+g.settings)},I.createElement(Na,{variant:"label",size:"medium",color:"$neutral900"},Ke.t("Change settings"))),container:document.querySelector("#swap-box"),onClose:S.bind(null,N=>!N)},L.warnings?.slippage&&I.createElement(Am,{type:"warning",title:L.warnings.slippage.type===1?Ke.t("High slippage"):Ke.t("Low slippage"),description:L.warnings.slippage.type===1?Ke.t("highSlippage",{selectedSlippage:W},{message:" Caution, your slippage is high (={selectedSlippage}). Your trade may be front run."}):Ke.t("increaseSlippage",{minRequiredSlippage:L.warnings.slippage.slippage},{message:"We recommend you to increase slippage to at least {minRequiredSlippage} for this route."})},I.createElement(Ot,{size:18}),I.createElement(Ot,{size:32}),I.createElement(an,{size:"large",type:"primary",variant:"contained",fullWidth:!0,onClick:Ze},Ke.t("Confirm anyway")))),w&&I.createElement(Ba,{open:w,onClose:()=>x(!1),onCancel:ne,loading:H,onCheckBalance:se,config:e}),I.createElement(Pm,null,I.createElement("div",{className:"description"},I.createElement(Na,{variant:"title",size:"small"},Ke.t("You get")),I.createElement(an,{style:{padding:"0"},variant:"ghost",disabled:H,onClick:D},I.createElement("div",{className:"icon"},I.createElement(Bm,{size:16})))),h&&I.createElement(I.Fragment,null,I.createElement(Sr,{type:"error",variant:"alarm",title:h}),I.createElement(Ot,{size:12})),L.warnings?.route&&I.createElement(I.Fragment,null,I.createElement(Sr,{variant:"alarm",type:"warning",title:tn(L.warnings.route)}),I.createElement(Ot,{size:12})),Ne&&I.createElement(xm,{type:"swap-preview",expanded:!0}),K&&I.createElement(bm,{expanded:!0,tooltipContainer:ae(),steps:hs(o,F)??[],input:{value:k(n,6,6),usdValue:k(s,4,4)},output:{value:k(r,6,6),usdValue:k(a,4,4)},totalFee:k(Ie,2,2),totalTime:At(Et(o.result?.swaps)),recommended:!0,type:"swap-preview",percentageChange:Te,warningLevel:_e}),U&&I.createElement(I.Fragment,null,I.createElement(Ot,{size:12}),I.createElement(Rt,{diagnosisMessage:L.error?.type===0?L.error.diagnosisMessage:void 0,error:L.error?.type===2,fetch:D})),L.error?.type===1&&I.createElement(I.Fragment,null,I.createElement(Sr,{variant:"alarm",type:"error",title:Lo(L.error)}),I.createElement(Ot,{size:12}))))}i(La,"ConfirmSwapPage");import{i18n as mn}from"@lingui/core";import{useManager as zm}from"@rango-dev/queue-manager-react";import{Divider as qm,NotFound as Hm,styled as qa}from"@rango-dev/ui";import mt,{useState as Gm}from"react";import{useNavigate as Vm}from"react-router-dom";import{CloseIcon as Fm,IconButton as Om,SearchIcon as $m,TextField as Um}from"@rango-dev/ui";import Zt from"react";import{styled as _m}from"@rango-dev/ui";var Pa=_m("div",{width:"$24",height:"$24",display:"flex",alignItems:"center",justifyContent:"center"});function it(t){let{variant:e,fullWidth:o,color:n,size:r,onChange:s,value:a,setValue:p,...l}=t;return Zt.createElement(Um,{prefix:Zt.createElement(Pa,null,Zt.createElement($m,{color:"black"})),suffix:!!a.length&&Zt.createElement(Om,{variant:"ghost",onClick:()=>p?.(""),size:"small"},Zt.createElement(Fm,{color:"gray",size:10})),fullWidth:o,color:n,variant:e,style:{padding:10,borderRadius:25,alignItems:"center"},size:r,value:a,onChange:s,...l})}i(it,"SearchInput");import{i18n as _a}from"@lingui/core";import{Divider as Fa,SwapListItem as Oa,Typography as $a}from"@rango-dev/ui";import te from"react";import{styled as un}from"@rango-dev/ui";var Cr=un("div",{width:"100%",display:"flex",flexDirection:"column"}),kr=un("div",{display:"flex",justifyContent:"flex-start",padding:"$2"}),Tr=un("div",{gap:"$10",display:"flex",flexDirection:"column"}),Da=un("div",{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"});function wr(t){let{list:e,onSwapClick:o,groupBy:n,isLoading:r}=t,s=n?n(e):[{title:"History",swaps:e}];if(r){let a=[{},{}];return te.createElement(te.Fragment,null,[{title:"Today",swaps:a},{title:"Last month",swaps:a}].map(l=>te.createElement(te.Fragment,{key:l.title},te.createElement(Cr,null,te.createElement(kr,null,te.createElement($a,{variant:"label",size:"medium",color:"neutral800",className:"group-title"},_a.t(l.title))),te.createElement(Fa,{size:4}),te.createElement(Tr,null,l.swaps.map((u,c)=>{let m=c+l.title;return te.createElement(te.Fragment,{key:m},te.createElement(Oa,{isLoading:!0}))}))))))}return te.createElement(te.Fragment,null,s.filter(a=>a.swaps.length>0).map(a=>te.createElement(te.Fragment,{key:a.title},te.createElement(Cr,null,te.createElement(kr,null,te.createElement($a,{variant:"label",size:"medium",color:"neutral800",className:"group-title"},_a.t(a.title))),te.createElement(Fa,{size:4}),te.createElement(Tr,null,a.swaps.map(p=>{let l=p.steps[0],u=p.steps[p.steps.length-1];return te.createElement(te.Fragment,{key:p.requestId},te.createElement(Oa,{requestId:p.requestId,creationTime:p.creationTime,status:p.status,onClick:o,onlyShowTime:a.title==="Today",swapTokenData:{from:{token:{image:l.fromLogo,displayName:l.fromSymbol},blockchain:{image:l.fromBlockchainLogo||""},amount:ko(p.inputAmount)},to:{token:{image:u.toLogo,displayName:u.toSymbol},blockchain:{image:u.toBlockchainLogo||""},amount:ko(u.outputAmount||""),estimatedAmount:ko(u.expectedOutputAmountHumanReadable||"")}}}))}))))))}i(wr,"SwapsGroup");import Ua from"dayjs";var za=i(t=>{let e=new Map([["today",{title:"Today",swaps:[]}],["month",{title:"Last month",swaps:[]}],["year",{title:"Last year",swaps:[]}],["history",{title:"History",swaps:[]}]]),o=Ua();return t.forEach(n=>{let r=Ua(Number(n.creationTime));o.isSame(r,"day")?e.get("today")?.swaps.push(n):o.isSame(r,"month")?e.get("month")?.swaps.push(n):o.isSame(r,"year")?e.get("year")?.swaps.push(n):e.get("history")?.swaps.push(n)}),Array.from(e.values())},"groupSwapsByDate");var cn=i(t=>{let e=[];return t?.getAll().forEach((o,n)=>{let r=o.list.getStorage();r?.swapDetails&&e.push({id:n,swap:r?.swapDetails})}),e.sort((o,n)=>Number(n.swap.creationTime)-Number(o.swap.creationTime))},"getPendingSwaps");var Rm=qa("div",{display:"flex",flexDirection:"column",alignItems:"flex-start",height:"100%",gap:15}),Xm=qa("div",{overflowY:"visible",width:"100%",display:"flex",flexDirection:"column",gap:15,height:"100%"}),Km=i((t,e)=>t?.length?t.filter(o=>Ve(o.fromBlockchain,e)||Ve(o.toBlockchain,e)||Ve(o.toSymbol,e)||Ve(o.fromSymbol,e)).length:!1,"isStepContainsText");function Ha(){let t=ve.use.setSelectedSwap(),e=Vm(),{navigateBackFrom:o}=re(),{manager:n,state:r}=zm(),s=cn(n).map(({swap:d})=>d),[a,p]=Gm(""),l=!r.loadedFromPersistor,u=i(d=>{let h=d.target.value;p(h)},"searchHandler"),c=s;a&&(c=s.filter(d=>Ve(d.inputAmount,a)||Ve(d.status,a)||Km(d.steps,a)||Ve(d.requestId,a)));let m=!c?.length&&!l;return mt.createElement(Q,{header:{onBack:o.bind(null,g.swaps),title:mn.t("History")}},mt.createElement(Rm,null,mt.createElement(it,{setValue:p,fullWidth:!0,variant:"contained",placeholder:mn.t("Search Transaction"),autoFocus:!0,onChange:u,value:a}),mt.createElement(Xm,null,m&&mt.createElement(Da,null,mt.createElement(qm,{size:32}),mt.createElement(Hm,{title:mn.t("No results found"),description:a?mn.t("Try using different keywords"):""})),!m&&mt.createElement(wr,{list:c,onSwapClick:d=>{t(d),e(`${d}`,{replace:!0})},groupBy:za,isLoading:l}))))}i(Ha,"HistoryPage");import{i18n as eo}from"@lingui/core";import{List as jm,ListItemButton as Ym,Radio as xr,RadioRoot as Qm,Typography as Ar}from"@rango-dev/ui";import He,{useState as Zm}from"react";import{styled as dn}from"@rango-dev/ui";var st=dn("div",{height:"100%",overflow:"hidden"}),Jt=dn("ul",{padding:"$15 $5 0",margin:0,listStyle:"none",height:"100%",overflowY:"auto"}),vr=dn("div",{width:80,display:"flex",justifyContent:"flex-end"}),br=dn("div",{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"});function Ga(){let{navigateBackFrom:t}=re(),[e,o]=Zm("english"),n=[{id:"english",value:"english",title:He.createElement(Ar,{variant:"title",size:"xmedium"},eo.t("English")),onClick:()=>o("english"),end:He.createElement(xr,{value:"english"})},{id:"french",value:"french",title:He.createElement(Ar,{variant:"title",size:"xmedium"},eo.t("French")),onClick:()=>o("french"),end:He.createElement(xr,{value:"french"})},{id:"spanish",value:"spanish",title:He.createElement(Ar,{variant:"title",size:"xmedium"},eo.t("Spanish")),onClick:()=>o("spanish"),end:He.createElement(xr,{value:"spanish"})}];return He.createElement(Q,{header:{onBack:t.bind(null,g.settings),title:eo.t("Language")}},He.createElement(st,null,He.createElement(Qm,{value:e},He.createElement(jm,{type:He.createElement(Ym,{title:eo.t("language"),id:"_",onClick:()=>console.log()}),items:n}))))}i(Ga,"LanguagePage");import{i18n as $t}from"@lingui/core";import{Button as nd,Checkbox as rd,Image as id,ListItemButton as sd,NotFound as ad,Typography as ld}from"@rango-dev/ui";import ke,{useState as pd}from"react";import{Checkbox as td,Skeleton as Ra}from"@rango-dev/ui";import to from"react";import{ListItem as Jm,styled as ed}from"@rango-dev/ui";var Va=ed(Jm,{height:61});var od=30;function Er(){return to.createElement(Jt,null,Array.from(Array(od),t=>to.createElement(Va,{hasDivider:!0,key:t,start:to.createElement(Ra,{variant:"circular",width:35,height:35}),title:to.createElement(Ra,{variant:"text",size:"large",width:90}),end:to.createElement(td,{checked:!1})})))}i(Er,"LoadingLiquiditySourceList");function fn(t){let e=b.use.meta().swappers,o=$.use.disabledLiquiditySources(),n=[];return Wt(e.map(s=>s.swapperGroup)).map(s=>{let a=e.find(p=>p.swapperGroup===s);if(a){let p=!0;t&&(p=t.some(l=>l===a.title)),p&&a.types.map(l=>{n.push({id:a.swapperGroup,groupTitle:a.swapperGroup,logo:a.logo,type:l,selected:!o.includes(a.swapperGroup)})})}}),n}i(fn,"getUniqueSwappersGroups");function Xa(t,e){return t.groupTitle<e.groupTitle?-1:t.groupTitle>e.groupTitle?1:0}i(Xa,"sortLiquiditySourcesByGroupTitle");function Br({supportedSwappers:t,sourceType:e}){let[o,n]=pd(""),r=$.use.toggleLiquiditySource(),{navigateBackFrom:s}=re(),a=b.use.loadingStatus(),p=fn(t),l=[];e==="Exchanges"&&l.push("DEX"),e==="Bridges"&&(l.push("BRIDGE"),l.push("AGGREGATOR"));let u=p.filter(y=>l.includes(y.type)),c=u.length===u.filter(y=>y.selected).length,m=i(()=>{u.forEach(y=>{c?r(y.groupTitle):y.selected||r(y.groupTitle)})},"toggleAllSources"),d=u.sort(Xa).map(y=>{let{selected:S,groupTitle:T,logo:f}=y;return{start:ke.createElement(id,{src:f,size:22,type:"circular"}),onClick:()=>r(T),end:ke.createElement(rd,{checked:S}),title:ke.createElement(ld,{variant:"title",size:"xmedium"},$t.t(T)),...y}}),h=i(y=>{let S=y.target.value;n(S)},"searchHandler"),C=d;return o&&(C=d.filter(y=>Ve(y.groupTitle,o))),ke.createElement(Q,{header:{onBack:s.bind(null,g.settings),title:$t.t(e),suffix:ke.createElement(vr,null,ke.createElement(nd,{variant:"ghost",size:"xsmall",onClick:m},$t.t(c?"Deselect all":"Select all")))}},ke.createElement(st,null,ke.createElement(it,{value:o,setValue:n,fullWidth:!0,color:"light",variant:"contained",placeholder:$t.t("Search {sourceType}",{sourceType:e}),onChange:h}),a==="loading"&&ke.createElement(Er,null),!C.length&&o?ke.createElement(br,null,ke.createElement(ad,{title:$t.t("No results found"),description:$t.t("Try using different keywords")})):a==="success"&&ke.createElement(Jt,null,C.map(y=>ke.createElement(ke.Fragment,{key:y.id},ke.createElement(sd,{style:{height:"61px"},...y,selected:!1,hasDivider:!0}))))))}i(Br,"LiquiditySourcePage");import{i18n as tl}from"@lingui/core";import{Divider as Mr,SelectableCategoryList as Sd}from"@rango-dev/ui";import Tt,{useState as ol}from"react";import{i18n as Nr}from"@lingui/core";import{Divider as Ja,Image as dd,ListItemButton as fd,NotFound as gd,Typography as el}from"@rango-dev/ui";import De,{useEffect as hd,useState as yd}from"react";import{BlockchainCategories as Wr}from"@rango-dev/ui";import{TransactionType as gn}from"rango-sdk";var ud=i((t,e)=>{switch(e){case Wr.ALL:return!0;case Wr.UTXO:return t.type===gn.TRANSFER;case Wr.OTHER:return t.type!==gn.TRANSFER&&t.type!==gn.COSMOS&&t.type!==gn.EVM;default:return t.type===e}},"filterByType"),Ka=i((t,e,o)=>t.filter(n=>ud(n,o)).filter(n=>gt(n.name,e)||gt(n.displayName,e)),"filterBlockchains");import{styled as ja}from"@rango-dev/ui";var Ya=ja("div",{display:"flex",flexDirection:"column",overflow:"hidden"}),hn=ja("ul",{padding:0,margin:0,listStyle:"none",overflowY:"auto",paddingRight:"$5",".image-container":{borderRadius:"$xm",overflow:"hidden"}});import{ListItem as cd,Skeleton as Qa}from"@rango-dev/ui";import yn from"react";var md=20;function Za(){return yn.createElement(hn,null,Array.from(Array(md),t=>yn.createElement(cd,{key:t,hasDivider:!0,start:yn.createElement(Qa,{variant:"circular",width:35,height:35}),title:yn.createElement(Qa,{variant:"text",size:"large",width:90})})))}i(Za,"LoadingBlockchainList");function Ir(t){let{list:e,searchedFor:o,onChange:n,blockchainCategory:r}=t,[s,a]=yd(e),p=b.use.loadingStatus();hd(()=>{a([...Ka(e,o,r)])},[e,o,r]);let l=i(()=>!s.length&&o?De.createElement(De.Fragment,null,De.createElement(Ja,{size:32}),De.createElement(gd,{title:Nr.t("No results found"),description:Nr.t("Try using different keywords")})):De.createElement(hn,{key:`${r}-${o}`},s.map(u=>De.createElement(fd,{key:`${u.name}-${u.chainId}`,hasDivider:!0,onClick:()=>n(u),start:De.createElement(dd,{src:u.logo,size:30}),title:De.createElement(el,{variant:"title",size:"medium"},u.displayName),id:u.chainId}))),"renderList");return De.createElement(Ya,null,De.createElement(el,{variant:"label",size:"large"},Nr.t("Select Blockchain")),De.createElement(Ja,{size:4}),p==="loading"&&De.createElement(Za,null),p==="success"&&l())}i(Ir,"BlockchainList");function Lr(t){let{type:e}=t,{navigateBackFrom:o}=re(),[n,r]=ol(""),[s,a]=ol("ALL"),p=P.use.setToBlockchain(),l=P.use.setFromBlockchain(),{loadingStatus:u}=b(),c=Le().blockchains({type:e}),m=e==="source"?"fromBlockchain":"toBlockchain";return Tt.createElement(Q,{header:{onBack:()=>{o(g[m])},title:tl.t("Select Blockchain")}},Tt.createElement(Mr,{size:12}),Tt.createElement(Sd,{setCategory:a,category:s,blockchains:c,isLoading:u==="loading"}),Tt.createElement(Mr,{size:24}),Tt.createElement(it,{value:n,autoFocus:!0,placeholder:tl.t("Search Blockchain"),color:"light",variant:"contained",size:"large",setValue:()=>r(""),onChange:d=>r(d.target.value)}),Tt.createElement(Mr,{size:16}),Tt.createElement(Ir,{list:c,searchedFor:n,blockchainCategory:s,onChange:d=>{e==="source"?l(d):p(d),o(g[m])}}))}i(Lr,"SelectBlockchainPage");import{i18n as Cl}from"@lingui/core";import{Divider as kl}from"@rango-dev/ui";import Ut,{useState as Fd}from"react";import{useNavigate as Od}from"react-router-dom";import{i18n as Pr}from"@lingui/core";import{BlockchainsChip as Dr,Divider as il,Image as bd,Skeleton as xd,Typography as _r}from"@rango-dev/ui";import xe from"react";import{useMemo as Cd,useRef as kd}from"react";function nl(t,e){let o=kd({index:-1,name:""});t.sort(wd);let n=t.map(r=>r.name).join("-");return Cd(()=>{let r=t,s=[];if(e?.limit&&t.length>e.limit){let a=e.limit,p=e.selected?t.findIndex(u=>u.name===e.selected):-1,l=o.current.index>e.limit-1&&!!t.find(u=>u.name===o.current.name);e.selected&&(l&&p<e.limit-1||p>e.limit-1)&&t.sort(Td(l?o.current.name:e.selected)),s=r.splice(a),o.current={index:p,name:e.selected??""}}return{list:r,more:s}},[n])}i(nl,"usePrepareBlockchainList");function Td(t){return i(function(o,n){return o.name===t?-1:n.name===t?1:0},"sortBySelected")}i(Td,"generateSortBySelectedFor");function wd(t,e){let o=["ETH","COSMOS","OSMOSIS"],n=o.findIndex(p=>p===t.name),r=o.findIndex(p=>p===e.name),s=n>-1,a=r>-1;return s&&a?n>r?1:-1:s?-1:a?1:0}i(wd,"sortByMostUsedBlockchains");import{styled as vd}from"@rango-dev/ui";var rl=vd("div",{display:"grid",gap:"$10",gridTemplateColumns:"repeat(6, minmax(0, 1fr))"});var sl=10,Fr=sl+1,Ad=12;function Or(t){let{blockchains:e,type:o,blockchain:n,onChange:r,onMoreClick:s}=t,a=nl(e,{limit:e.length===Fr?Fr:sl,selected:n?.name}),p=b.use.loadingStatus(),l=P.use.resetToBlockchain(),u=P.use.resetFromBlockchain(),c=e.length!==Fr&&a.more.length;return xe.createElement("div",null,xe.createElement(il,{size:12}),xe.createElement(_r,{variant:"label",size:"large"},Pr.t("Select Blockchain")),xe.createElement(il,{size:12}),xe.createElement(rl,null,p==="loading"&&Array.from(Array(Ad),m=>xe.createElement(xd,{key:m,variant:"rounded",height:50})),p==="success"&&xe.createElement(xe.Fragment,null,xe.createElement(Dr,{selected:!n,onClick:()=>{o==="from"?u():l()}},xe.createElement(_r,{variant:"body",size:"xsmall",color:"secondary500"},Pr.t("All"))),a.list.map(m=>xe.createElement(Dr,{key:m.name,selected:!!n&&n.name===m.name,onClick:()=>r(m)},xe.createElement(bd,{src:m.logo,size:30}))),c?xe.createElement(Dr,{onClick:s},xe.createElement(_r,{variant:"body",size:"xsmall",color:"secondary500"},Pr._("More +{count}",{count:a.more.length}))):null)))}i(Or,"BlockchainsSection");import{i18n as Gr}from"@lingui/core";import{darkTheme as fl,Divider as no,ExternalLinkIcon as Wd,Image as Nd,ListItemButton as Id,NotFound as Md,PinIcon as Ld,Skeleton as gl,Typography as ro,VirtualizedList as Pd}from"@rango-dev/ui";import M,{forwardRef as Dd,useEffect as hl,useState as yl}from"react";var al=i((t,e)=>{t=t.replace(/^#/,""),t.length===3&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);let[s,a,p]=t.match(/.{2}/g);[s,a,p]=[parseInt(s,16)+e,parseInt(a,16)+e,parseInt(p,16)+e],s=Math.max(Math.min(255,s),0).toString(16),a=Math.max(Math.min(255,a),0).toString(16),p=Math.max(Math.min(255,p),0).toString(16);let l=(s.length<2?"0":"")+s,u=(a.length<2?"0":"")+a,c=(p.length<2?"0":"")+p;return`#${l}${u}${c}`},"colorShade"),$r=i((t,e)=>{let a={[t]:e};for(let p=1;p<10;p++)p<5&&(a={...a,[t+p*100]:al(e,(5-p)*32)}),p===5&&(a={...a,[t+p*100]:e}),p>5&&(a={...a,[t+p*100]:al(e,-((p-5)*32))});return a},"generateRangeColors"),Ur=i((t,e)=>{if(!e||!Object.entries(e).length)return{};let o=!1,n={...t};for(let r in e){let s=e[r];s&&s!==t[r]&&(o=!0,r==="background"||r==="foreground"?n={...n,[r]:s}:n={...n,...$r(r,s)})}return o?n:{}},"generateColors");import{Divider as ml,ListItem as Bd,Skeleton as oo}from"@rango-dev/ui";import Ge from"react";import{styled as je,Typography as Ed}from"@rango-dev/ui";var ll=je("div",{display:"flex",flexDirection:"column",flexGrow:1}),zr=je("div",{display:"flex",alignItems:"center","._typography":{textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:100,overflow:"hidden"}}),Sn=je("ul",{flexGrow:1,padding:0,margin:0,listStyle:"none","& li":{alignItems:"none",".description":{position:"relative",height:12,width:150,".token-title":{position:"absolute",transform:"none",transition:"transform 225ms cubic-bezier(0, 0, 0.2, 1) 0ms",bottom:"-8px"},".token-address":{transform:"translateY(12px)",visibility:"hidden","& a":{fontSize:"$12",lineHeight:"$16",color:"$neutral800",textDecoration:"none"}},".token-name":{position:"absolute",transform:"none",transition:"transform 225ms cubic-bezier(0, 0, 0.2, 1) 0ms",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:100,overflow:"hidden"}},"&:hover":{".description":{".token-address":{position:"absolute",transform:"none",transition:"transform 225ms cubic-bezier(0, 0, 0.2, 1) 0ms",visibility:"visible"},".token-address-without-name":{bottom:"-15px"},".token-name":{position:"absolute",transform:"translateY(-12px)",visibility:"hidden"},".token-title":{position:"absolute",transform:"translateY(-12px)",bottom:"-10px"}}}}}),qr=je("div",{paddingLeft:"$5",paddingRight:"$5",borderRadius:"$md",display:"flex",alignItems:"center"}),Hr=je(Ed,{}),pl=je("div",{textAlign:"right"}),Cn=je("ul",{display:"flex",alignItems:"end",flexDirection:"column"}),HA=je("div",{display:"flex",alignItems:"center"}),ul=je("div",{position:"relative",".image-container":{borderRadius:"$xm",overflow:"hidden"}}),cl=je("div",{position:"absolute",backgroundColor:"$neutral100",padding:"$4",borderRadius:"50%",bottom:-6,right:-6});function dl(t){return Ge.createElement(Sn,null,Array.from(Array(t.size),e=>Ge.createElement(Bd,{key:e,hasDivider:!0,start:Ge.createElement(oo,{variant:"circular",width:35,height:35}),end:Ge.createElement(Cn,null,Ge.createElement(oo,{variant:"text",size:"large",width:70}),Ge.createElement(ml,{size:4}),Ge.createElement(oo,{variant:"text",size:"medium",width:50})),title:Ge.createElement("div",null,Ge.createElement(oo,{variant:"text",size:"large",width:90}),Ge.createElement(ml,{size:4}),Ge.createElement(oo,{variant:"text",size:"medium",width:90}))})))}i(dl,"LoadingTokenList");var Vr=20,_d=i(t=>{let{address:e,name:o,url:n,token:r,customCssForTag:s,customCssForTagTitle:a}=t,p=e.length;return M.createElement("div",{className:"description"},o?M.createElement("div",{className:"token-name"},o):M.createElement(zr,{className:"token-title"},M.createElement(ro,{variant:"title",size:"xmedium"},r.symbol),M.createElement(no,{direction:"horizontal",size:4}),M.createElement(qr,{css:s},M.createElement(Hr,{variant:"body",size:"xsmall",css:a},r.blockchain))),!!e&&M.createElement("div",{className:`token-address ${!o&&"token-address-without-name"}`},M.createElement("a",{href:n,target:"_blank",rel:"nofollow noreferrer",onClick:l=>l.stopPropagation()},p>10?`${e.slice(0,5)}...${e.slice(p-6,p)}`:e," ",M.createElement(Wd,{color:"gray",size:12}))))},"renderDesc");function Sl(t){let{list:e,searchedFor:o="",onChange:n,selectedBlockchain:r}=t,[s,a]=yl(e),p=b.use.loadingStatus(),[l,u]=yl(!0),c=G.use.loading(),{blockchains:m}=b.use.meta(),{isTokenPinned:d}=Le(),h=Dd((S,T)=>M.createElement("div",{...S,ref:T,style:{...S.style,height:`${parseFloat(S.style?.height)+8*2}px`}})),C=i(()=>{a(e.slice(0,s.length+Vr))},"loadNextPage");hl(()=>{u(e.length>s.length)},[s.length]),hl(()=>{a(e.slice(0,Vr))},[e]);let y=i(()=>!s.length&&o?M.createElement(M.Fragment,null,M.createElement(no,{size:32}),M.createElement(Md,{title:Gr.t("No results found"),description:Gr.t("Try using different keywords")})):M.createElement(Pd,{Item:({index:S,style:T})=>{let f=s[S],w=f.address||"",x=m.find(E=>E.name===f.blockchain),v=$r(f.symbol,x?.color||""),B={$$color:v[`${f.symbol}100`],[`.${fl} &`]:{$$color:v[`${f.symbol}900`]},backgroundColor:"$$color"},F={$$color:v[`${f.symbol}700`],[`.${fl} &`]:{$$color:v[`${f.symbol}100`]},color:"$$color"};return M.createElement("div",{style:{...T,paddingRight:5}},M.createElement(Id,{style:{height:T?.height},"tab-index":S,key:`${f.symbol}${f.address}`,id:`${f.symbol}${f.address}`,hasDivider:!0,onClick:()=>n(s[S]),start:M.createElement(ul,null,M.createElement(Nd,{src:f.image,size:30}),d(f)&&M.createElement(cl,null,M.createElement(Ld,{size:12,color:"gray"}))),title:x?.type==="COSMOS"||f.name||!f.name&&!w?M.createElement(zr,null,M.createElement(ro,{variant:"title",size:"xmedium"},f.symbol),M.createElement(no,{direction:"horizontal",size:4}),M.createElement(qr,{css:B},M.createElement(Hr,{variant:"body",size:"xsmall",css:F},f.blockchain))):void 0,description:x?.info&&w&&x.type!=="COSMOS"?_d({address:w,token:s[S],customCssForTag:B,customCssForTagTitle:F,name:f.name,url:x.info.addressUrl.split("{wallet}").join(w)}):f.name||void 0,end:c?M.createElement(Cn,null,M.createElement(gl,{variant:"text",size:"large",width:70}),M.createElement(no,{size:4}),M.createElement(gl,{variant:"text",size:"medium",width:50})):s[S]?.balance&&M.createElement(pl,null,M.createElement(ro,{variant:"title",size:"small"},f.balance?.amount),M.createElement("div",null),f.balance?.usdValue&&M.createElement(ro,{variant:"body",color:"neutral800",size:"xsmall"},`$${f.balance?.usdValue}`))}))},hasNextPage:l,itemCount:s.length,loadNextPage:C,innerElementType:h,size:60,key:`${r}-${o}`}),"renderList");return M.createElement(ll,null,M.createElement(ro,{variant:"label",size:"large"},Gr.t("Select Token")),M.createElement(no,{size:4}),p==="loading"&&M.createElement(dl,{size:Vr}),p==="success"&&M.createElement(Sn,null,y()))}i(Sl,"TokenList");function Rr(t){let{type:e}=t,o=Od(),{navigateBackFrom:n}=re(),{fromBlockchain:r,toBlockchain:s,setFromToken:a,setToToken:p,setFromBlockchain:l,setToBlockchain:u}=P(),{connectedWallets:c}=G(),[m,d]=Fd(""),C=(e==="source"?r:s)?.name??"",y=Le().blockchains({type:e}),S=Le().tokens({type:e,blockchain:C,searchFor:m}),T=Bi(S,c),f=i(x=>{e==="source"?l(x):u(x)},"updateBlockchain"),w=i(x=>{e==="source"?a(x):p(x)},"updateToken");return Ut.createElement(Q,{header:{onBack:()=>n(e==="source"?g.fromSwap:g.toSwap),title:Cl.t("Swap {type}",{type:e==="source"?"from":"to"})}},Ut.createElement(Or,{blockchains:y,type:e=="source"?"from":"to",blockchain:e==="source"?r:s,onMoreClick:()=>o(e==="source"?g.fromBlockchain:g.toBlockchain),onChange:x=>{f(x)}}),Ut.createElement(kl,{size:24}),Ut.createElement(it,{value:m,autoFocus:!0,placeholder:Cl.t("Search Token"),color:"light",variant:"contained",size:"large",setValue:()=>d(""),onChange:x=>d(x.target.value)}),Ut.createElement(kl,{size:16}),Ut.createElement(Sl,{list:T,selectedBlockchain:C,searchedFor:m,onChange:x=>{w(x);let v=y.find(B=>x.blockchain===B.name);v&&f(v),n(g.fromSwap)}}))}i(Rr,"SelectSwapItemsPage");import{i18n as wt}from"@lingui/core";import{ChevronRightIcon as jr,Divider as Yr,InfoIcon as Gd,List as Vd,ListItemButton as Rd,Skeleton as Xd,Switch as Kd,Tooltip as jd,Typography as vt}from"@rango-dev/ui";import q from"react";import{useNavigate as Yd}from"react-router-dom";import{i18n as xl}from"@lingui/core";import{Chip as Ud,Divider as Al,InfoIcon as zd,TextField as qd,Tooltip as Hd,Typography as El}from"@rango-dev/ui";import Ae from"react";import{styled as kn}from"@rango-dev/ui";var Tl=kn("div",{paddingTop:"$5",paddingBottom:"30px"}),wl=kn("div",{display:"flex",alignItems:"center",justifyContent:"start"}),vl=kn("div",{display:"flex",justifyContent:"start",alignItems:"center",paddingBottom:"$10"}),Tn=kn("div",{maxWidth:"300px",padding:"$10"});import{i18n as Xr}from"@lingui/core";import{Typography as $d}from"@rango-dev/ui";import io from"react";function bl(){return io.createElement(Tn,null,io.createElement($d,{variant:"label",size:"medium",color:"neutral900"},Xr.t("Your transaction will be reverted if the price changes unfavorably by more than this percentage"),io.createElement("br",null),io.createElement("br",null),io.createElement("b",null,Xr.t("Warning")),":",Xr.t("This setting is applied per step, e.g. 1Inch, Thorchain, etc. and only that step will be reverted, not the whole transaction")))}i(bl,"SlippageTooltipContent");function Kr(){let t=$.use.slippage(),e=$.use.setSlippage(),o=$.use.customSlippage(),n=$.use.setCustomSlippage();return Ae.createElement(Tl,null,Ae.createElement(vl,null,Ae.createElement(El,{variant:"title",size:"xmedium"},xl.t("Slippage tolerance per swap")),Ae.createElement(Al,{direction:"horizontal",size:4}),Ae.createElement(Hd,{container:ae(),side:"top",content:Ae.createElement(bl,null)},Ae.createElement(zd,{color:"gray"}))),Ae.createElement(wl,null,Zi.map((r,s)=>{let a=`slippage-${s}`;return Ae.createElement(Ae.Fragment,null,Ae.createElement(Ud,{style:{width:"64px",flexShrink:0},key:a,onClick:()=>{o&&n(null),e(r)},selected:!o&&r===t,label:`${r.toString()}%`}),Ae.createElement(Al,{direction:"horizontal",size:8}))}),Ae.createElement(qd,{type:"number",min:"0.01",max:"30",step:"0.01",fullWidth:!0,variant:"contained",value:o||"",color:"dark",onChange:r=>{let s=parseFloat(r.target.value);(!s||s>=os&&s<=ts)&&n(s)},suffix:o&&Ae.createElement(El,{variant:"body",size:"small"},"%"),placeholder:xl.t("Custom")})))}i(Kr,"Slippage");function Bl({supportedSwappers:t,singleTheme:e}){let o=Yd(),{navigateBackFrom:n}=re(),r=$.use.infiniteApprove(),s=$.use.toggleInfiniteApprove(),a=b.use.loadingStatus(),p=fn(t),l=p.filter(x=>x.type==="BRIDGE"||x.type==="AGGREGATOR"),u=l.length,c=l.filter(x=>x.selected).length,m=p.filter(x=>x.type==="DEX"),d=m.length,h=m.filter(x=>x.selected).length,C=i((x,v)=>{switch(a){case"loading":return q.createElement(Xd,{variant:"text",size:"medium",width:50});case"failed":return q.createElement(vt,{variant:"body",size:"medium",color:"$error500"},wt.t("Loading failed"));default:return q.createElement(vt,{variant:"body",size:"medium"},`${x} / ${v}`)}},"handleEndItem"),y={id:"bridge-item",title:q.createElement(vt,{variant:"title",size:"xmedium"},wt.t("Enabled bridges")),end:q.createElement(q.Fragment,null,C(c,u),q.createElement(Yr,{direction:"horizontal",size:8}),q.createElement(jr,{color:"black"})),onClick:()=>o(g.bridges)},S={id:"exchange-item",title:q.createElement(vt,{variant:"title",size:"xmedium"},wt.t("Enabled exchanges")),end:q.createElement(q.Fragment,null,C(h,d),q.createElement(Yr,{direction:"horizontal",size:8}),q.createElement(jr,{color:"gray"})),onClick:()=>o(g.exchanges)},T={id:"theme-item",title:q.createElement(vt,{variant:"title",size:"xmedium"},wt.t("Theme")),end:q.createElement(jr,{color:"gray"}),onClick:()=>o(g.themes)},f={id:"infinite-approval-item",title:q.createElement(q.Fragment,null,q.createElement(vt,{variant:"title",size:"xmedium"},wt.t("Infinite Approval")),q.createElement(Yr,{direction:"horizontal",size:4}),q.createElement(jd,{side:"top",container:ae(),content:q.createElement(Tn,null,q.createElement(vt,{variant:"label",size:"medium",color:"neutral900"},wt.t("Enabling the 'Infinite Approval' mode grants unrestricted access to smart contracts of DEXes/Bridges, allowing them to utilize the approved token amount without limitations.")))},q.createElement(Gd,{color:"gray"}))),end:q.createElement(Kd,{checked:r}),onClick:s},w=[y,S];return e||w.push(T),w.push(f),q.createElement(Q,{header:{onBack:n.bind(null,g.settings),title:wt.t("Setting")}},q.createElement(st,null,q.createElement(Kr,null),q.createElement(Vd,{type:q.createElement(Rd,{title:"_",id:"_",onClick:()=>console.log()}),items:w})))}i(Bl,"SettingsPage");import{cancelSwap as Rf}from"@rango-dev/queue-manager-rango-preset";import{useManager as Xf}from"@rango-dev/queue-manager-react";import sp from"react";import{i18n as at}from"@lingui/core";import{getCurrentBlockchainOfOrNull as Af,getCurrentStep as Ef,getRelatedWalletOrNull as Bf,PendingSwapNetworkStatus as In}from"@rango-dev/queue-manager-rango-preset";import{Button as Zl,CopyIcon as Wf,Divider as Nf,IconButton as If,RouteCost as Mf,RouteSummary as Lf,StepDetails as Pf,Typography as qt,useCopyToClipboard as Df}from"@rango-dev/ui";import{useWallets as _f}from"@rango-dev/wallets-react";import Z,{useEffect as Jl,useRef as Ff,useState as ep}from"react";import{useNavigate as Of}from"react-router-dom";import{i18n as Ee}from"@lingui/core";var Qd=1e3,Zd=31536e3,Jd=2592e3,ef=86400,tf=3600,of=60;function Wl(t){let e=Math.floor((Date.now()-t)/Qd),n=[{turningPoint:Zd,label:Ee.t("year"),pluralLabel:Ee.t("years")},{turningPoint:Jd,label:Ee.t("month"),pluralLabel:Ee.t("months")},{turningPoint:ef,label:Ee.t("day"),pluralLabel:Ee.t("days")},{turningPoint:tf,label:Ee.t("hour"),pluralLabel:Ee.t("hours")},{turningPoint:of,label:Ee.t("minute"),pluralLabel:Ee.t("minutes")}].sort((r,s)=>s.turningPoint-r.turningPoint);for(let r of n){let{turningPoint:s,label:a,pluralLabel:p}=r,l=Math.floor(e/s);if(l>1)return`${l} ${p}`;if(l===1)return`${l} ${a}`}return e>1?`${e} ${Ee.t("seconds")}`:`${e} ${Ee.t("second")}`}i(Wl,"timeSince");function Nl(t){return t.finishTime?Ee.t({id:"timeAgo",message:"{time} ago",values:{time:Wl(parseInt(t.finishTime))}}):Ee.t({id:"timeAgo",message:"{time} ago",values:{time:Wl(parseInt(t.creationTime))}})}i(Nl,"getSwapDate");import{PendingSwapNetworkStatus as bn}from"@rango-dev/queue-manager-rango-preset";import{Modal as uf}from"@rango-dev/ui";import xn from"react";import{i18n as wn}from"@lingui/core";import{Button as Il,Divider as Qr,MessageBox as nf,Typography as Ml}from"@rango-dev/ui";import Ye from"react";var Ll=i(({onCancel:t,onClose:e})=>Ye.createElement(Ye.Fragment,null,Ye.createElement(Qr,{size:20}),Ye.createElement(nf,{type:"error",title:wn.t("Transaction Cancel"),description:wn.t("Are you sure you want to Cancel this swap?")}),Ye.createElement(Qr,{size:32}),Ye.createElement(Il,{variant:"contained",type:"primary",size:"large",onClick:t},Ye.createElement(Ml,{variant:"title",size:"medium",color:"neutral100"},wn.t("Yes, Cancel it"))),Ye.createElement(Qr,{size:12}),Ye.createElement(Il,{variant:"outlined",type:"primary",size:"large",onClick:e},Ye.createElement(Ml,{variant:"title",size:"medium",color:"primary"},wn.t("No, Continue")))),"CancelContent");import{i18n as vn}from"@lingui/core";import{Button as Pl,Divider as Zr,MessageBox as rf,Typography as Dl}from"@rango-dev/ui";import Qe from"react";var _l=i(({onDelete:t,onClose:e})=>Qe.createElement(Qe.Fragment,null,Qe.createElement(Zr,{size:20}),Qe.createElement(rf,{type:"error",title:vn.t("Delete Transaction"),description:vn.t("Are you sure you want to delete this swap?")}),Qe.createElement(Zr,{size:32}),Qe.createElement(Pl,{variant:"contained",type:"primary",size:"large",onClick:t},Qe.createElement(Dl,{variant:"title",size:"medium",color:"neutral100"},vn.t("Yes, Delete it"))),Qe.createElement(Zr,{size:12}),Qe.createElement(Pl,{variant:"outlined",type:"primary",size:"large",onClick:e},Qe.createElement(Dl,{variant:"title",size:"medium",color:"primary"},vn.t("No, Cancel")))),"DeleteContent");import{i18n as Jr}from"@lingui/core";import{PendingSwapNetworkStatus as ei}from"@rango-dev/queue-manager-rango-preset";var ti={[ei.WaitingForNetworkChange]:{type:"loading",title:Jr.t("Change Network")},[ei.WaitingForConnectingWallet]:{type:"warning",title:Jr.t("Connect Wallet")},[ei.NetworkChanged]:{type:"success",title:Jr.t("Network Changed")}};import{MessageBox as af,Wallet as lf,WalletState as Ol}from"@rango-dev/ui";import{useWallets as pf}from"@rango-dev/wallets-react";import so from"react";import{styled as sf}from"@rango-dev/ui";var Fl=sf("div",{display:"flex",justifyContent:"center"});var $l=i(t=>{let{type:e,title:o,currentStepWallet:n,message:r,showWalletButton:s}=t,{connect:a,getWalletInfo:p,state:l}=pf(),u=n?.walletType,m=u&&l(u).connected?Ol.CONNECTED:Ol.DISCONNECTED;return so.createElement(so.Fragment,null,so.createElement(af,{type:e,title:o,description:r}),s&&u&&so.createElement(Fl,null,so.createElement(lf,{container:ae(),title:p(u).name,image:p(u).img,type:u,state:m,onClick:async()=>a(u)})))},"WalletStateContent");function oi(t){let{state:e,onClose:o,onDelete:n,onCancel:r,currentStepWallet:s,message:a}=t,p=e===bn.WaitingForNetworkChange||e===bn.WaitingForConnectingWallet||e===bn.NetworkChanged;return xn.createElement(uf,{open:!!e,onClose:o,container:document.getElementById("swap-box")||document.body},p&&xn.createElement($l,{type:ti[e].type,title:ti[e].title,currentStepWallet:s,message:a,showWalletButton:e!==bn.WaitingForNetworkChange}),e==="delete"&&xn.createElement(_l,{onClose:o,onDelete:n}),e==="cancel"&&xn.createElement(Ll,{onClose:o,onCancel:r}))}i(oi,"SwapDetailsModal");import{i18n as ao}from"@lingui/core";import{Button as ni,Divider as An,MessageBox as Ul,Modal as cf,TokenAmount as mf,Typography as En}from"@rango-dev/ui";import fe from"react";import{useNavigate as df}from"react-router-dom";function ri(t){let{open:e,onClose:o,status:n,priceValue:r,usdValue:s,token:a,chain:p,percentageChange:l,description:u,diagnosisUrl:c}=t,m=df();return fe.createElement(cf,{open:e,onClose:o,container:document.getElementById("swap-box")||document.body},n==="success"?fe.createElement(Ul,{type:"success",title:ao.t("Swap Successful")},fe.createElement(mf,{direction:"vertical",type:"output",centerAlign:!0,price:{value:r,usdValue:s},token:a,chain:p,percentageChange:l}),fe.createElement(An,{size:12}),fe.createElement(En,{variant:"body",size:"medium",color:"neutral900",align:"center"},u)):fe.createElement(Ul,{type:"error",title:ao.t("Transaction Failed"),description:u}),fe.createElement(An,{size:32}),n==="success"&&fe.createElement(ni,{variant:"contained",type:"primary",size:"large",onClick:()=>m(g.home)},fe.createElement(En,{variant:"title",size:"medium",color:"neutral100"},ao.t("Done"))),fe.createElement(An,{size:12}),c&&fe.createElement(fe.Fragment,null,fe.createElement(ni,{variant:"contained",type:"primary",size:"large",onClick:()=>window.open(c,"_blank")},fe.createElement(En,{variant:"title",size:"medium",color:"primary"},ao.t("Diagnosis"))),fe.createElement(An,{size:12})),fe.createElement(ni,{variant:"outlined",type:"primary",size:"large",onClick:o},fe.createElement(En,{variant:"title",size:"medium",color:"primary"},ao.t("See Details"))))}i(ri,"SwapDetailsCompleteModal");import bf from"react";import{i18n as kf}from"@lingui/core";import{Alert as Rl,IconButton as Tf,LinkIcon as wf}from"@rango-dev/ui";import dt,{Fragment as vf}from"react";import{Alert as ff,ChevronDownIcon as gf,ChevronUpIcon as hf,IconButton as yf}from"@rango-dev/ui";import Bn,{useState as Sf}from"react";function zl(t){let{message:e}=t,[o,n]=Sf(!1);return Bn.createElement(ff,{type:"error",title:e.shortMessage,action:e.detailedMessage.content&&Bn.createElement(yf,{onClick:()=>n(r=>!r),variant:"ghost",size:"xsmall"},o?Bn.createElement(hf,{size:12,color:"gray"}):Bn.createElement(gf,{size:12,color:"gray"})),footer:o?e.detailedMessage.content:void 0})}i(zl,"FailedAlert");import{styled as Cf}from"@rango-dev/ui";var ql=Cf("div",{display:"flex",flexDirection:"column",gap:"$10"});import{i18n as Hl}from"@lingui/core";import{PendingSwapNetworkStatus as ii}from"@rango-dev/queue-manager-rango-preset";import{Alert as si,Button as Gl}from"@rango-dev/ui";import lo from"react";function Vl(t){let{switchNetwork:e,setNetworkModal:o,message:n,showNetworkModal:r}=t;return e?lo.createElement(si,{type:"warning",title:n.shortMessage,action:lo.createElement(Gl,{size:"xxsmall",type:"warning",onClick:()=>{o(ii.WaitingForNetworkChange),e().catch(s=>{console.log(s)})}},Hl.t("Change"))}):r===ii.WaitingForConnectingWallet?lo.createElement(si,{type:"warning",title:n.shortMessage,action:lo.createElement(Gl,{size:"xxsmall",type:"warning",onClick:()=>{o(ii.WaitingForConnectingWallet)}},Hl.t("Connect"))}):lo.createElement(si,{type:"warning",title:n.shortMessage})}i(Vl,"WarningAlert");function ai(t){let{switchNetwork:e,showNetworkModal:o,setNetworkModal:n,message:r,step:s,hasAlreadyProceededToSign:a}=t,p=Xt(s),l=s.status==="waitingForApproval"&&!p,u=s.status==="running"&&!p;return dt.createElement(ql,null,s.explorerUrl?.map((c,m,d)=>{let h=m+c.url,C=m===d.length-1,y=C&&u||l,S=C&&s.status==="failed";return dt.createElement(vf,{key:h},dt.createElement(Rl,{type:y&&"loading"||S&&"error"||"success",title:c.description?`${c.description} Tx`:kf.t("View transaction"),action:c.url&&dt.createElement(Tf,{variant:"ghost",size:"xsmall",onClick:()=>window.open(c.url,"_blank")},dt.createElement(wf,{size:16}))}))}),(u&&!a||l&&!s.explorerUrl?.length)&&dt.createElement(Rl,{type:"loading",title:r.shortMessage}),s.status!=="failed"&&p&&dt.createElement(Vl,{switchNetwork:e,showNetworkModal:o,setNetworkModal:n,message:r}),s.status==="failed"&&dt.createElement(zl,{message:r}))}i(ai,"SwapDetailsAlerts");var Xl=2e3;var Kl=i(({swap:t,blockchains:e,...o})=>{let n=t.hasAlreadyProceededToSign!==!1;return t.steps.map((r,s)=>{let a=s===0?t.inputAmount:t.steps[s-1].outputAmount;return{from:{token:{displayName:r.fromSymbol,image:r.fromLogo??""},chain:{displayName:Je(r.fromBlockchain,e)??"",image:r.fromBlockchainLogo??""},price:{value:k(a,6,6)}},to:{token:{displayName:r.toSymbol,image:r.toLogo},chain:{displayName:Je(r.toBlockchain,e)??"",image:r.toBlockchainLogo??""},price:{value:k(r.outputAmount||r.expectedOutputAmountHumanReadable,6,6)}},swapper:{displayName:r.swapperId,image:r.swapperLogo??""},alerts:bf.createElement(ai,{step:r,hasAlreadyProceededToSign:n,...o})}})},"getSteps");function jl(t){if(Xt(t)&&t.status!=="failed"&&t.status!=="success")return"warning";switch(t.status){case"created":return"default";case"approved":case"waitingForApproval":case"running":return"in-progress";case"failed":return"error";case"success":return"completed"}}i(jl,"getStepState");import{darkTheme as xf,styled as zt}from"@rango-dev/ui";var Wn=zt("div",{display:"flex",width:"100%",flexDirection:"column",alignItems:"center",height:"0",flexGrow:1,"& .row":{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",padding:"$10 $20",borderBottom:"1px solid",$$color:"$colors$neutral300",[`.${xf} &`]:{$$color:"$colors$neutral400"},borderColor:"$$color",color:"$neutral500"},"& .request-id":{display:"flex",justifyContent:"center",alignItems:"center",height:"$24"},"& .output":{display:"flex",width:"100%",padding:"$15 $20 $20",flexDirection:"column",alignItems:"start"},"& .title-steps":{textAlign:"left",width:"100%",padding:"0 $20 $10"}}),Nn=zt("div",{width:"100%"}),Yl=zt("div",{padding:"$0 $20 $20 $20",width:"100%",overflow:"auto"}),EB=zt("div",{display:"flex",flexDirection:"column",gap:"$10"}),Ql=zt("div",{height:"450px",display:"flex",alignItems:"center",justifyContent:"center"}),BB=zt("div",{display:"flex",justifyContent:"center",width:"100%",paddingTop:"33%",flex:1});function li(t){let{swap:e,requestId:o,onDelete:n,onCancel:r}=t,{canSwitchNetworkTo:s,connect:a,getWalletInfo:p}=_f(),l=P.use.retry(),u=Of(),{navigateBackFrom:c}=re(),[m,d]=Df(Xl),h=Ff(null),[C,y]=ep(null),[S,T]=ep(null),{meta:{tokens:f,blockchains:w}}=b(),x=i(()=>{r(),y(null)},"onCancel"),v=Pe.use.getUnreadNotifications(),B=Pe.use.setAsRead(),F=v(),E=Ef(e),O=E?.networkStatus;Jl(()=>{F.find(Y=>Y.requestId===e.requestId)&&(e.status==="success"||e.status==="failed")&&(T(e.status),B(e.requestId))},[e.status]),Jl(()=>{L?y(In.WaitingForNetworkChange):O===In.WaitingForConnectingWallet||O===In.NetworkChanged?y(O):y(null)},[O]);let X=xs(e),oe=E?Af(e,E):null,W=E?Bf(e,E):null,J=Nl(e),H=As(e),ne=i(_=>!!p(_)?.mobileWallet,"isMobileWallet"),L=O===In.WaitingForNetworkChange&&!!oe&&!!W?.walletType&&(ne(W.walletType)||s(W.walletType,oe)),me=L?a.bind(null,W.walletType,oe):void 0,Ne=bs(e,E),U=Kl({swap:e,switchNetwork:me,showNetworkModal:O,setNetworkModal:y,message:Ne,blockchains:w}),K=U.length,[Ie,Te]=[e.steps[0],e.steps[K-1]],_e=Te.outputAmount||Te.expectedOutputAmountHumanReadable,se=e.steps.reduce((_,Y)=>_+parseFloat(Y.feeInUsd||""),0),ft=e.steps.find(_=>_.diagnosisUrl)?.diagnosisUrl,Ze=k(String(parseFloat(k(_e,6,6))*(vo(Te.toBlockchain,Te.toSymbol,Te.toSymbolAddress,f)||0)),4,4),bt=k(String(parseFloat(e.inputAmount)*(vo(Ie.fromBlockchain,Ie.fromSymbol,Ie.fromSymbolAddress,f)||0)),4,4),D=et(bt,Ze),N=e.status==="success"?at.t({id:"receivedMessage",message:"You have received {amount} {token} in {conciseAddress} wallet on {chain} chain.",values:{amount:k(_e,6,6),token:U[K-1].to.token.displayName,conciseAddress:xo(e.wallets[U[K-1].to.chain.displayName]?.address||""),chain:U[K-1].to.chain.displayName}}):`${at.t("Transaction was not sent.")} ${X?at.t({id:"remainSymbol",message:"{amount} {symbol} on {blockchain} remain in your wallet",values:{amount:X.outputAmount,symbol:X.symbol,blockchain:X.blockchain}}):""}`;return Z.createElement(Q,{noPadding:!0,header:{title:at.t("Swap and Bridge"),onBack:c.bind(null,g.swapDetails),onCancel:e.status==="running"?()=>y("cancel"):void 0,suffix:e.status!=="running"&&Z.createElement(Nt,null,Z.createElement(Zl,{variant:"ghost",type:"error",size:"xsmall",onClick:()=>y("delete")},Z.createElement(qt,{size:"medium",variant:"label",color:"error"},at.t("Delete"))))},footer:H&&!S&&Z.createElement(Zl,{fullWidth:!0,variant:"contained",type:"primary",size:"large",onClick:()=>{l(e),setTimeout(()=>{u(g.home)},0)}},at.t("Try again"))},Z.createElement(Wn,null,Z.createElement(Nn,null,Z.createElement("div",{className:"row"},Z.createElement(qt,{variant:"label",size:"large",color:"neutral900"},`${at.t("Request ID")}:`),Z.createElement("div",{className:"request-id"},Z.createElement(qt,{variant:"label",size:"small",color:"neutral900"},o),Z.createElement(If,{variant:"ghost",onClick:d.bind(null,o||"")},Z.createElement(Wf,{size:16,color:"gray"})))),Z.createElement("div",{className:"row"},Z.createElement(qt,{variant:"label",size:"large",color:"neutral900"},`${at.t("Created at")}:`),Z.createElement(qt,{variant:"label",size:"small",color:"neutral900"},J))),Z.createElement("div",{className:"output"},Z.createElement(Mf,{fee:k(String(se),2,2),time:At(Et(e.steps)),steps:K}),Z.createElement(Lf,{from:{price:{value:k(e.inputAmount,6,6),usdValue:bt},token:{displayName:U[0].from.token.displayName,image:U[0].from.token.image},chain:{image:U[0].from.chain.image,displayName:U[0].from.chain.displayName}},to:{price:{value:k(_e,6,6),usdValue:Ze},token:{displayName:U[K-1].to.token.displayName,image:U[K-1].to.token.image},chain:{image:U[K-1].to.chain.image,displayName:U[K-1].to.chain.displayName}},percentageChange:k(D,2,2),warningLevel:It(D?.toNumber()??0)})),Z.createElement("div",{className:"title-steps"},Z.createElement(qt,{variant:"title",size:"small"},at.t("Swaps steps"))),Z.createElement(Nf,{size:8}),Z.createElement(Yl,{ref:h},U.map((_,Y)=>{let le=Y,ue=jl(e.steps[Y]),ho=ue==="error"||ue==="in-progress"||ue==="warning"||ue==="completed"&&Y===U.length-1;return Z.createElement(Pf,{key:le,step:_,type:"route-progress",ref:h,state:ue,hasSeparator:Y!==0,tabIndex:le,isFocused:ho})}))),Z.createElement(oi,{state:C,onClose:()=>y(null),onCancel:x,onDelete:n,message:Ne.detailedMessage.content,currentStepWallet:W}),Z.createElement(ri,{open:!!S,diagnosisUrl:ft,onClose:()=>T(null),status:e.status==="success"?"success":"failed",priceValue:k(_e,6,6),usdValue:Ze,percentageChange:k(D,2,2),token:{displayName:U[K-1].to.token.displayName,image:U[K-1].to.token.image},chain:{image:U[K-1].to.chain.image},description:N}))}i(li,"SwapDetails");import{i18n as fo}from"@lingui/core";import{CopyIcon as Hf,IconButton as Gf,NotFound as Vf,Skeleton as rp,Typography as Ln}from"@rango-dev/ui";import ce from"react";import{i18n as Uf}from"@lingui/core";import{ChainToken as zf,Divider as ui,Skeleton as mo,Typography as qf}from"@rango-dev/ui";import ee from"react";import{styled as pi}from"@rango-dev/ui";var tp=pi("div",{width:"100%",height:"100%",padding:"$0 $20",".cost":{paddingTop:"$15",display:"flex"},".route-summary":{padding:"$15 $0"},".route-summary-item":{display:"flex",justifyContent:"space-between",alignItems:"center"},".token-amount":{display:"flex",justifyContent:"space-between",alignItems:"center"},".route-summary-separator":{width:"0px",height:"$16",borderLeft:"1px solid $neutral400",marginLeft:"13px"},".swaps-steps":{paddingBottom:"$10"}}),op=pi("div",{backgroundColor:"$neutral100",borderRadius:"$xm",padding:"$10 $15",".step-title":{display:"flex",justifyContent:"start",alignItems:"center"},".step-tokens":{paddingTop:"$5",display:"flex",alignItems:"center"},".step-token-info":{display:"flex",alignItems:"center"},".step-icon-container":{padding:"$4 $6",display:"flex",justifyContent:"center",alignItems:"center"},".extra-info":{display:"flex",paddingTop:"$10",paddingBottom:"$5"}}),Mn=pi("div",{width:"0px",height:"$20",borderLeft:"1px dashed $neutral900",marginLeft:"25px"});import{ChainToken as np,Divider as po,NextIcon as $f,Skeleton as uo}from"@rango-dev/ui";import pe from"react";function co(t){let{extraInfo:e}=t;return pe.createElement(op,null,pe.createElement("div",{className:"step-title"},pe.createElement(uo,{height:28,width:28,variant:"circular"}),pe.createElement(po,{direction:"horizontal",size:8}),pe.createElement(uo,{height:15,width:148,variant:"rounded"})),pe.createElement("div",{className:"step-tokens"},pe.createElement(po,{direction:"horizontal",size:20}),pe.createElement("div",{className:"step-token-info"},pe.createElement(np,{size:"small",loading:!0,chainImage:"",tokenImage:""}),pe.createElement(po,{direction:"horizontal",size:8}),pe.createElement(uo,{height:12,width:76,variant:"rounded"})),pe.createElement("div",{className:"step-icon-container"},pe.createElement($f,{color:"gray",size:16})),pe.createElement("div",{className:"step-token-info"},pe.createElement(np,{size:"small",loading:!0,chainImage:"",tokenImage:""}),pe.createElement(po,{direction:"horizontal",size:8}),pe.createElement(uo,{height:12,width:76,variant:"rounded"}))),e&&pe.createElement("div",{className:"extra-info"},pe.createElement(po,{direction:"horizontal",size:20}),pe.createElement(uo,{height:22,width:297,variant:"rectangular"})))}i(co,"LoadingSwapDetailStep");function ci(){let t=ee.createElement("div",{className:"route-summary-item"},ee.createElement("div",{className:"token-amount"},ee.createElement(zf,{loading:!0,size:"medium",chainImage:"",tokenImage:""}),ee.createElement(ui,{size:8,direction:"horizontal"}),ee.createElement(mo,{height:15,width:148,variant:"rounded"})),ee.createElement(mo,{height:12,width:64,variant:"rounded"}));return ee.createElement(tp,null,ee.createElement("div",{className:"cost"},ee.createElement(mo,{width:60,height:10,variant:"rounded"}),ee.createElement(ui,{size:4,direction:"horizontal"}),ee.createElement(mo,{width:60,height:10,variant:"rounded"}),ee.createElement(ui,{size:4,direction:"horizontal"}),ee.createElement(mo,{width:60,height:10,variant:"rounded"})),ee.createElement("div",{className:"route-summary"},t,ee.createElement("div",{className:"route-summary-separator"}),t),ee.createElement("div",{className:"swaps-steps"},ee.createElement(qf,{variant:"title",size:"small"},Uf.t("Swaps steps"))),ee.createElement("div",{className:"step-container"},ee.createElement(co,{extraInfo:!0}),ee.createElement(Mn,null),ee.createElement(co,null),ee.createElement(Mn,null),ee.createElement(co,null),ee.createElement(Mn,null),ee.createElement(co,null)))}i(ci,"LoadingSwapDetails");function ip(t){let{requestId:e,showSkeleton:o}=t,{navigateBackFrom:n}=re();return ce.createElement(Q,{noPadding:!0,header:{title:fo.t("Swap and Bridge"),onBack:n.bind(null,g.swapDetails),suffix:ce.createElement(Nt,null)}},o&&ce.createElement(Wn,null,ce.createElement(Nn,null,ce.createElement("div",{className:"row"},ce.createElement(Ln,{variant:"label",size:"large",color:"neutral900"},`${fo.t("Request ID")}:`),ce.createElement("div",{className:"request-id"},ce.createElement(Ln,{variant:"label",size:"small",color:"neutral900"},ce.createElement(rp,{width:60,height:10,variant:"rounded"})),ce.createElement(Gf,{variant:"ghost"},ce.createElement(Hf,{size:16,color:"gray"})))),ce.createElement("div",{className:"row"},ce.createElement(Ln,{variant:"label",size:"large",color:"neutral900"},`${fo.t("Created at")}:`),ce.createElement(Ln,{variant:"label",size:"small",color:"neutral900"},ce.createElement(rp,{width:60,height:10,variant:"rounded"})))),ce.createElement(ci,null)),!o&&ce.createElement(Ql,null,ce.createElement(Vf,{title:fo.t("Not found"),description:fo.t({id:"swapNotFound",values:{requestId:e},message:"Swap with request ID = {requestId} not found."})})))}i(ip,"SwapDetailsPlaceholder");function ap(){let{manager:t,state:e}=Xf(),o=!e.loadedFromPersistor,n=cn(t),r=ve.use.selectedSwapRequestId(),{navigateBackFrom:s}=re(),{loadingStatus:a}=b(),p=o||a==="loading",l=n.find(({swap:d})=>d.requestId===r),u=i(()=>{if(l?.id){let d=t?.get(l.id);d&&Rf(d)}},"onCancel"),c=i(async()=>{if(l?.id)try{await t?.deleteQueue(l.id),s(g.swapDetails)}catch(d){console.log(d)}},"onDelete"),m=l?.swap;return!m||p?sp.createElement(ip,{requestId:r||"",showSkeleton:p}):sp.createElement(li,{swap:m,requestId:r||"",onCancel:u,onDelete:c})}i(ap,"SwapDetailsPage");import{i18n as go}from"@lingui/core";import{AutoThemeIcon as Kf,DarkModeIcon as jf,LightModeIcon as Yf,List as Qf,ListItemButton as Zf,Radio as mi,RadioRoot as Jf,Typography as di}from"@rango-dev/ui";import Be from"react";function lp(){let{navigateBackFrom:t}=re(),e=$.use.theme(),o=$.use.setTheme(),n=[{id:"light",value:"light",title:Be.createElement(di,{variant:"title",size:"xmedium"},go.t("Light")),onClick:()=>o("light"),start:Be.createElement(Yf,{color:"gray"}),end:Be.createElement(mi,{value:"light"})},{id:"dark",value:"dark",title:Be.createElement(di,{variant:"title",size:"xmedium"},go.t("Dark")),onClick:()=>o("dark"),start:Be.createElement(jf,{color:"gray"}),end:Be.createElement(mi,{value:"dark"})},{id:"auto",value:"auto",title:Be.createElement(di,{variant:"title",size:"xmedium"},go.t("Auto")),onClick:()=>o("auto"),start:Be.createElement(Kf,{color:"gray"}),end:Be.createElement(mi,{value:"auto"})}];return Be.createElement(Q,{header:{onBack:t.bind(null,g.settings),title:go.t("Theme")}},Be.createElement(st,null,Be.createElement(Jf,{onValueChange:r=>o(r),value:e},Be.createElement(Qf,{type:Be.createElement(Zf,{title:go.t("Theme"),id:"_",onClick:()=>console.log()}),items:n}))))}i(lp,"ThemePage");var tg=i(t=>t.replace("/",""),"getAbsolutePath");function pp(t){let{config:e}=t;return eg([{path:g.home,element:We.createElement(Qo,null)},{path:g.fromSwap,element:We.createElement(Rr,{type:"source"})},{path:g.toSwap,element:We.createElement(Rr,{type:"destination"})},{path:g.fromBlockchain,element:We.createElement(Lr,{type:"source"})},{path:g.toBlockchain,element:We.createElement(Lr,{type:"destination"})},{path:g.settings,element:We.createElement(Bl,{singleTheme:e?.theme?.singleTheme,supportedSwappers:e?.liquiditySources})},{path:g.themes,element:We.createElement(lp,null)},{path:g.languages,element:We.createElement(Ga,null)},{path:g.exchanges,element:We.createElement(Br,{sourceType:"Exchanges",supportedSwappers:e?.liquiditySources})},{path:g.bridges,element:We.createElement(Br,{sourceType:"Bridges",supportedSwappers:e?.liquiditySources})},{path:g.swaps,element:We.createElement(Ha,null)},{path:g.swapDetails,element:We.createElement(ap,null)},{path:g.wallets,element:We.createElement(ya,{supportedWallets:e?.wallets,multiWallets:typeof e?.multiWallets>"u"?!0:e.multiWallets,config:e})},{path:tg(g.confirmSwap),element:We.createElement(La,{config:e})}])}i(pp,"AppRoutes");import{isApprovalTX as og,MainEvents as cp,RouteEventType as mp,StepEventType as Ht,StepExecutionEventStatus as ng,useEvents as rg}from"@rango-dev/queue-manager-rango-preset";import{useEffect as dp}from"react";import{StepExecutionBlockedEventStatus as fi}from"@rango-dev/queue-manager-rango-preset";var up=[fi.WAITING_FOR_CHANGE_WALLET_ACCOUNT,fi.WAITING_FOR_NETWORK_CHANGE,fi.WAITING_FOR_WALLET_CONNECT];function fp(){let t=G.use.connectedWallets(),e=G.use.getWalletsDetails(),o=Pe.use.setNotification(),n=Pe.use.setAsRead(),r=rg();return dp(()=>(r.on(cp.StepEvent,s=>{let{event:a,step:p,route:l}=s;if(a.type===Ht.TX_EXECUTION&&a.status===ng.TX_SENT&&!og(p)||a.type===Ht.SUCCEEDED){let c=t.find(d=>d.chain===p?.fromBlockchain),m=p?.fromBlockchain!==p?.toBlockchain&&t.find(d=>d.chain===p?.toBlockchain);c&&e([c]),m&&e([m])}a.type===Ht.TX_EXECUTION_BLOCKED&&up.includes(a.status)||a.type===Ht.FAILED?o(a,l):(a.type===Ht.TX_EXECUTION||a.type===Ht.CHECK_STATUS)&&n(l.requestId)}),()=>r.all.clear()),[r,t.length]),dp(()=>(r.on(cp.RouteEvent,s=>{let{event:a,route:p}=s;(a.type===mp.FAILED||a.type===mp.SUCCEEDED)&&o(a,p)}),()=>r.all.clear()),[r,t.length]),null}i(fp,"WidgetEvents");import{globalCss as ig}from"@rango-dev/ui";var gp=i(()=>ig({"@import":["url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap')","url('https://fonts.cdnfonts.com/css/times-new-roman')"]})(),"globalFont");import{createTheme as gi,darkTheme as sg,lightTheme as ag,darkColors as lg,theme as pg}from"@rango-dev/ui";import{useEffect as yp,useState as ug}from"react";var hp="Roboto";function Sp(t){let{colors:e,fontFamily:o=hp,borderRadius:n=Si,secondaryBorderRadius:r=Ci,mode:s="auto"}=t,a=$.use.theme(),p=pg.colors,l=b.use.fetchMeta(),u=$.use.setTheme(),c=gi({radii:{primary:`${n}px`,secondary:`${r}px`},fonts:{widget:o}}),m=Ur({...p,...lg},e?.dark),d=Ur(p,e?.light),h=Object.keys(d).length?gi({colors:d}):ag,C=Object.keys(m).length?gi({colors:{...m,neutral100:m.neutral900,neutral200:m.neutral800,neutral300:m.neutral700,neutral400:m.neutral600,neutral500:m.neutral500,neutral600:m.neutral400,neutral700:m.neutral300,neutral800:m.neutral200,neutral900:m.neutral100}}):sg,y=`${c.className} ${h.className}`,S=`${c.className} ${C.className}`,[T,f]=ug("light");return yp(()=>{i(async()=>{await l()},"fetchData")();let v=i(B=>{B.matches?f("dark"):f("light")},"switchTheme");return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&f("dark"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",v),()=>{window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",v)}},[]),yp(()=>{s!=="auto"&&u(s)},[s]),{activeTheme:i(()=>a==="auto"?T==="dark"?S:y:a==="dark"?S:y,"getActiveTheme")()}}i(Sp,"useTheme");import cg,{useMemo as mg}from"react";import{Provider as dg}from"@rango-dev/queue-manager-react";import{makeQueueDefinition as fg,checkWaitingForNetworkChange as gg}from"@rango-dev/queue-manager-rango-preset";import{useWallets as hg}from"@rango-dev/wallets-react";import{convertEvmBlockchainMetaToEvmChainInfo as yg}from"@rango-dev/wallets-shared";import{isEvmBlockchain as Sg}from"rango-types";function Cg(t){let{providers:e,getSigners:o,state:n,connect:r,canSwitchNetworkTo:s,getWalletInfo:a}=hg(),p=mg(()=>fg({API_KEY:So("API_KEY")}),[]),{blockchains:l}=b.use.meta(),c={blockchains:G.use.connectedWallets().map(f=>({accounts:[f],name:f.chain}))},m=i((f,w)=>{if(s(f,w))return r(f,w)},"switchNetwork"),d=i(f=>!!a(f).mobileWallet,"isMobileWallet"),h=l.filter(f=>f.enabled).reduce((f,w)=>(f[w.name]=w,f),{}),C=l.filter(Sg),y=i(f=>{let{supportedChains:w}=a(f);return To(w)},"getSupportedChainNames"),S=e(),T={meta:{blockchains:h,evmBasedChains:C,evmNetworkChainInfo:yg(C),getSupportedChainNames:y},getSigners:o,wallets:c,providers:S,switchNetwork:m,canSwitchNetworkTo:s,connect:r,state:n,isMobileWallet:d};return cg.createElement(dg,{queuesDefs:[p],context:T,onPersistedDataLoaded:f=>{gg(f)},isPaused:!1},t.children)}i(Cg,"QueueManager");var Cp=Cg;var bg=Tg("div",{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"$widget",boxSizing:"border-box","& *, *::before, *::after":{boxSizing:"inherit",listStyleType:"none"},"& *:focus-visible":{outlineColor:"$info500",transition:"none"}});function Tp(t){let{config:e}=t;gp();let{activeTheme:o}=Sp(e?.theme||{}),[n,r]=kp(""),[s,a]=kp(),p=wg($n);return vg(()=>{e?.apiKey&&yi({API_KEY:e?.apiKey})},[e]),wp(()=>{$.persist.rehydrate(),Pe.persist.rehydrate(),p.onConnectWallet(r)},[]),lt.createElement(kg,{language:e?.language},lt.createElement(bg,{id:"swap-container",className:o},lt.createElement(Cp,null,lt.createElement(fp,null),lt.createElement(Rs,{config:e,lastConnectedWallet:n,disconnectedWallet:s,clearDisconnectedWallet:()=>{a(void 0)}},lt.createElement(pp,{config:e})))))}i(Tp,"Main");function xg(t){let{updateConfig:e,config:o}=Le();return wp(()=>{t.config&&e(t.config)},[t.config]),t.config?.externalWallets?lt.createElement(Tp,{...t}):lt.createElement(Un,{providers:o?.wallets,options:{walletConnectProjectId:o?.walletConnectProjectId||t.config?.walletConnectProjectId}},lt.createElement(Tp,{...t}))}i(xg,"Widget");export{dI as MainEvents,fI as RouteEventType,gI as StepEventType,hI as StepExecutionBlockedEventStatus,yI as StepExecutionEventStatus,xg as Widget,Un as WidgetWallets,xa as useWallets,SI as useWidgetEvents};
//# sourceMappingURL=index.js.map
