var k=Object.defineProperty;var c=(t,e)=>k(t,"name",{value:e,configurable:!0});import{canEagerlyConnectToEvm as A,canSwitchNetworkToEvm as y,chooseInstance as a,getEvmAccounts as C,Networks as r,switchNetworkForEvm as R,WalletTypes as T}from"@rango-dev/wallets-shared";import{evmBlockchains as I,isEvmBlockchain as x,solanaBlockchain as M}from"rango-types";import{Networks as l}from"@rango-dev/wallets-shared";function u(){let{clover:t,clover_solana:e}=window;if(!t)return null;let n=new Map;return t&&n.set(l.ETHEREUM,t),e&&n.set(l.SOLANA,e),n}c(u,"clover");async function w(t){let e=t.get(l.SOLANA),n=[];if(e){let o=await e.getAccount();n.push({accounts:[o],chainId:l.SOLANA})}return n}c(w,"getNonEvmAccounts");import{DefaultEvmSigner as d}from"@rango-dev/signer-evm";import{DefaultSolanaSigner as S}from"@rango-dev/signer-solana";import{Networks as h,getNetworkInstance as p}from"@rango-dev/wallets-shared";import{DefaultSignerFactory as N,TransactionType as E}from"rango-types";function m(t){let e=p(t,h.ETHEREUM),n=p(t,h.SOLANA),o=new N;return o.registerSigner(E.EVM,new d(e)),o.registerSigner(E.SOLANA,new S(n)),o}c(m,"getSigners");var L=T.CLOVER,Q={type:L,defaultNetwork:r.ETHEREUM},X=u,Y=c(async({instance:t,meta:e})=>{let n=a(t,e,r.ETHEREUM),o=[];if(n){let s=await C(n);o.push({chainId:s?.chainId,accounts:s?.accounts.length>0?[s.accounts[0]]:[]})}let i=await w(t);return o=[...o,...i],o},"connect"),Z=c(({instance:t,updateAccounts:e,state:n,meta:o})=>{let i=a(t,o,r.ETHEREUM),s=a(t,o,r.SOLANA);i?.on("accountsChanged",async f=>{if(n.connected){if(i){let g=o.filter(x).find(v=>v.name===r.ETHEREUM)?.chainId;e(f,g)}if(s){let g=await s.getAccount();e([g],r.SOLANA)}}})},"subscribe"),$=c(async t=>{let e=a(t.instance,t.meta,t.network);return R({...t,instance:e})},"switchNetwork"),tt=y,et=m,nt=c(async({instance:t,meta:e})=>{let n=a(t,e,r.ETHEREUM);return n?A({instance:n,meta:e}):Promise.resolve(!1)},"canEagerConnect"),ot=c(t=>{let e=I(t),n=M(t);return{name:"Clover",img:"https://raw.githubusercontent.com/rango-exchange/assets/main/wallets/clover/icon.svg",installLink:{CHROME:"https://chrome.google.com/webstore/detail/clover-wallet/nhnkbkgjikgcigadomkphalanndcapjk",BRAVE:"https://chrome.google.com/webstore/detail/clover-wallet/nhnkbkgjikgcigadomkphalanndcapjk",DEFAULT:"https://wallet.clover.finance"},color:"#96e7ed",supportedChains:[...e,...n]}},"getWalletInfo");export{nt as canEagerConnect,tt as canSwitchNetworkTo,Q as config,Y as connect,X as getInstance,et as getSigners,ot as getWalletInfo,Z as subscribe,$ as switchNetwork};
//# sourceMappingURL=index.js.map
